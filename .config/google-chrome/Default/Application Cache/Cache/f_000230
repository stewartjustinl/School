Ox.prototype.Hk=mP(70,function(){return V(this,2)});AI.prototype.Hk=mP(69,g("F"));Ufa.prototype.jq=mP(6,function(){return null!=F(this,5)});$m.prototype.jq=mP(5,function(){return null!=F(this,1)});Zv.prototype.jq=mP(4,function(){return Pv(this,2)});function ABd(a){Db(a,"google::")||(a="google::"+a);a=Mb(a);return Dl(Bl(zl(xl(new wl,"https"),"plx.corp.google.com"),"/script/"),"a=qo|i="+a).toString()}
function BBd(){var a='<div class="'+Q("waffle-dataconnector-bigquery-consent-screen-content")+'"><p>';a=a+"Sheets requires authorization to connect to your BigQuery projects."+('</p><div class="'+Q("waffle-dataconnector-bigquery-consent-screen-authorize-button-wrapper")+'"></div></div>');return P(a)}function CBd(){var a='<div class="'+Q("waffle-dataconnector-footer-sharing-message")+'">';return P(a+"Your authentication credentials are always private and never shared with another user.</div>")};function DBd(){var a=P,b='<div class="'+Q("waffle-dataconnector-modal-header")+'"><div class="'+Q("waffle-dataconnector-modal-title")+'"></div><div class="'+Q("waffle-dataconnector-modal-close-button")+'" tabindex="0" role="button">';var c=P('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>');
return a(b+c+'</div></div><div class="'+Q("waffle-dataconnector-modal-body")+'"></div><div class="'+Q("waffle-dataconnector-modal-footer")+'"></div>')};function R1(a,b){a=void 0===a?"":a;Bq.call(this,!1,b);this.Bb=a;this.C=new nr(void 0,EBd.getInstance());this.Fa(this.C);this.Wa=null}q(R1,Bq);p=R1.prototype;p.Aa=function(){Bq.prototype.Aa.call(this);Eh(this.getElement(),"waffle-dataconnector-modal");this.Bb&&Eh(this.getElement(),this.Bb);ir(this.getElement(),DBd);var a=this.zs();Eh(a,"waffle-dataconnector-modal-bg");L(a,!0);this.C.hb(this.Ia("waffle-dataconnector-modal-close-button"));this.Wa&&FBd(this)};
p.Ga=function(){Bq.prototype.Ga.call(this);this.getHandler().R(this.C,"action",this.r8);this.getHandler().R(this.Ra(),"keydown",this.JOb)};p.Lb=function(){return this.Ab("waffle-dataconnector-modal-body")};function GBd(a){return a.Ab("waffle-dataconnector-modal-footer")}function HBd(a,b){a.Wa=b;a.Rb()&&FBd(a)}p.r8=function(){v5a.Yb()};p.v8=function(){v5a.Yb()};p.JOb=function(a){27==a.keyCode?this.v8():9==a.keyCode&&a.shiftKey&&a.target==this.getElement()&&LCa(this)};
function FBd(a){Fi.getInstance().setContent(a.Ia("waffle-dataconnector-modal-title"),a.Wa)}function EBd(){}q(EBd,lr);EBd.prototype.hp=n("waffle-dataconnector-modal-close-button");ta(EBd);function S1(a,b){R1.call(this,a,b);this.H=pf()}q(S1,R1);p=S1.prototype;p.getResult=function(){return this.H.C};p.resolve=function(a){this.H.resolve(a)};p.reject=function(a){this.H.reject(a)};p.Ea=function(){R1.prototype.Ea.call(this);this.H.reject()};p.v8=function(){this.reject()};p.r8=function(){this.reject()};function IBd(a){S1.call(this,"waffle-dataconnector-bigquery-consent-screen",a);HBd(this,"Authorize");this.D=new JU("Authorize");this.Fa(this.D);this.D.Id("waffle-dataconnector-bigquery-consent-screen-authorize-button")}q(IBd,S1);IBd.prototype.Aa=function(){S1.prototype.Aa.call(this);ir(this.Lb(),BBd);ir(GBd(this),CBd);this.D.render(this.Ia("waffle-dataconnector-bigquery-consent-screen-authorize-button-wrapper"))};
IBd.prototype.Ga=function(){var a=this;S1.prototype.Ga.call(this);this.getHandler().R(this.D,"action",function(){return a.resolve(!0)})};IBd.prototype.v8=function(){this.resolve(!1)};IBd.prototype.r8=function(){this.resolve(!1)};function T1(){T.call(this)}x(T1,T);var JBd=null;T1.prototype.yx=function(){return Pv(this,1)};function U1(){T.call(this)}x(U1,T);var KBd=null;U1.prototype.yx=function(){return Pv(this,1)};U1.prototype.bp=function(){return V(this,2)};U1.prototype.QR=function(){return Pv(this,2)};function V1(){T.call(this)}x(V1,T);var LBd=null;V1.prototype.getName=function(){return V(this,1)};V1.prototype.Te=function(a){W(this,1,a)};function W1(){T.call(this)}x(W1,T);var MBd=null;p=W1.prototype;
p.xb=function(){return V(this,1)};p.ag=function(){return Pv(this,1)};p.Uq=function(){return V(this,2)};p.getColumnIndex=function(){return V(this,3)};p.Fv=function(){return Uv(this,3)};function X1(){T.call(this)}x(X1,T);var NBd=null;T1.prototype.Ba=function(){var a=JBd;a||(JBd=a=Vv(T1,{0:{name:"PlxQuery",ib:"ritzproto.PlxQuery"},1:{name:"query",qa:9,type:String},2:{name:"engine",qa:9,type:String},3:{name:"script_id",qa:9,type:String}}));return a};T1.Ba=T1.prototype.Ba;
U1.prototype.Ba=function(){var a=KBd;a||(KBd=a=Vv(U1,{0:{name:"BigQueryQuery",ib:"ritzproto.BigQueryQuery"},1:{name:"query",qa:9,type:String},2:{name:"project_id",qa:9,type:String}}));return a};U1.Ba=U1.prototype.Ba;V1.prototype.Ba=function(){var a=LBd;a||(LBd=a=Vv(V1,{0:{name:"QueryParameter",ib:"ritzproto.QueryParameter"},1:{name:"name",qa:9,type:String},2:{name:"constant_value",qa:9,type:String},3:{name:"workbookrange_id",qa:9,type:String},4:{name:"cell_coordinate",qa:11,type:W1}}));return a};
V1.Ba=V1.prototype.Ba;W1.prototype.Ba=function(){var a=MBd;a||(MBd=a=Vv(W1,{0:{name:"CellCoordinate",ib:"ritzproto.CellCoordinate"},1:{name:"sheet_id",qa:9,type:String},2:{name:"row_index",qa:5,type:Number},3:{name:"column_index",qa:5,type:Number}}));return a};W1.Ba=W1.prototype.Ba;
X1.prototype.Ba=function(){var a=NBd;a||(NBd=a=Vv(X1,{0:{name:"QueryProto",ib:"ritzproto.QueryProto"},1:{name:"sql_query",qa:9,type:String},2:{name:"plx_query",qa:11,type:T1},4:{name:"bigquery_query",qa:11,type:U1},3:{name:"parameters",jc:!0,qa:11,type:V1}}));return a};X1.Ba=X1.prototype.Ba;var OBd={lGc:0,Nvc:1,gzc:2,Dac:3,ADc:4};function Y1(){T.call(this)}x(Y1,T);var PBd=null;Y1.prototype.getName=function(){return V(this,1)};Y1.prototype.Te=function(a){W(this,1,a)};function Z1(){T.call(this)}x(Z1,T);var QBd=null;p=Z1.prototype;p.getId=function(){return V(this,1)};p.Dn=function(){return Uv(this,1)};p.Cf=function(a){W(this,1,a)};p.getType=function(){return V(this,2)};p.setType=function(a){W(this,2,a)};function $1(){T.call(this)}x($1,T);var RBd=null;function a2(){T.call(this)}x(a2,T);
var SBd=null;a2.prototype.jq=function(){return Pv(this,3)};function b2(){T.call(this)}x(b2,T);var TBd=null;b2.prototype.yx=function(){return Pv(this,2)};b2.prototype.getToken=function(){return V(this,3)};function c2(){T.call(this)}x(c2,T);var UBd=null;c2.prototype.Hk=function(){return V(this,1)};c2.prototype.xb=function(){return V(this,3)};c2.prototype.ag=function(){return Pv(this,3)};function d2(){T.call(this)}x(d2,T);var VBd=null;d2.prototype.yx=function(){return Pv(this,2)};
d2.prototype.getToken=function(){return V(this,4)};function e2(){T.call(this)}x(e2,T);var WBd=null;e2.prototype.Hk=function(){return V(this,1)};function f2(){T.call(this)}x(f2,T);var XBd=null;f2.prototype.lJ=function(a){Rv(this,2,a)};function YBd(){T.call(this)}x(YBd,T);var ZBd=null;function g2(){T.call(this)}x(g2,T);var $Bd=null;g2.prototype.xb=function(){return V(this,1)};g2.prototype.ag=function(){return Pv(this,1)};g2.prototype.getToken=function(){return V(this,2)};
function h2(){T.call(this)}x(h2,T);var aCd=null;h2.prototype.Hk=function(){return V(this,1)};function i2(){T.call(this)}x(i2,T);var bCd=null;i2.prototype.bp=function(){return V(this,2)};i2.prototype.QR=function(){return Pv(this,2)};function j2(){T.call(this)}x(j2,T);var cCd=null;j2.prototype.jq=function(){return Pv(this,2)};function k2(){T.call(this)}x(k2,T);var dCd=null;k2.prototype.getName=function(){return V(this,1)};k2.prototype.Te=function(a){W(this,1,a)};
k2.prototype.bp=function(){return V(this,3)};function eCd(a,b){W(a,3,b)}k2.prototype.QR=function(){return Pv(this,3)};function l2(){T.call(this)}x(l2,T);var fCd=null;l2.prototype.yx=function(){return Pv(this,2)};l2.prototype.getToken=function(){return V(this,3)};function m2(){T.call(this)}x(m2,T);var gCd=null;m2.prototype.Hk=function(){return V(this,1)};function hCd(){T.call(this)}x(hCd,T);var iCd=null;function n2(){T.call(this)}x(n2,T);var jCd=null;p=n2.prototype;
p.getId=function(){return V(this,1)};p.Dn=function(){return Uv(this,1)};p.Cf=function(a){W(this,1,a)};p.getName=function(){return V(this,2)};p.Te=function(a){W(this,2,a)};function o2(){T.call(this)}x(o2,T);var kCd=null;function p2(){T.call(this)}x(p2,T);var lCd=null;p2.prototype.jq=function(){return Pv(this,2)};function q2(){T.call(this)}x(q2,T);var mCd=null;q2.prototype.bp=function(){return V(this,2)};q2.prototype.QR=function(){return Pv(this,2)};function r2(){T.call(this)}x(r2,T);var nCd=null;
r2.prototype.jq=function(){return Pv(this,2)};function oCd(){T.call(this)}x(oCd,T);var pCd=null;function s2(){T.call(this)}x(s2,T);var qCd=null;s2.prototype.jq=function(){return Pv(this,2)};function t2(){T.call(this)}x(t2,T);var rCd=null;p=t2.prototype;p.getId=function(){return V(this,1)};p.Dn=function(){return Uv(this,1)};p.Cf=function(a){W(this,1,a)};p.getName=function(){return V(this,2)};p.Te=function(a){W(this,2,a)};function sCd(){T.call(this)}x(sCd,T);var tCd=null;
function u2(){T.call(this)}x(u2,T);var uCd=null;u2.prototype.yx=function(){return Pv(this,2)};Y1.prototype.Ba=function(){var a=PBd;a||(PBd=a=Vv(Y1,{0:{name:"CreateConnectionRequest",ib:"ritzproto.CreateConnectionRequest"},1:{name:"name",qa:9,type:String},2:{name:"connection_type",qa:14,defaultValue:0,type:wUa},3:{name:"jdbc_connection_info",qa:11,type:$1}}));return a};Y1.Ba=Y1.prototype.Ba;
Z1.prototype.Ba=function(){var a=QBd;a||(QBd=a=Vv(Z1,{0:{name:"ImportConnectionRequest",ib:"ritzproto.ImportConnectionRequest"},1:{name:"id",qa:9,type:String},2:{name:"type",qa:14,defaultValue:0,type:wUa}}));return a};Z1.Ba=Z1.prototype.Ba;
$1.prototype.Ba=function(){var a=RBd;a||(RBd=a=Vv($1,{0:{name:"JdbcConnectionInfo",ib:"ritzproto.JdbcConnectionInfo"},1:{name:"database_type",qa:14,defaultValue:0,type:OBd},2:{name:"hostname",qa:9,type:String},3:{name:"db_name",qa:9,type:String},4:{name:"username",qa:9,type:String},5:{name:"password",qa:9,type:String},6:{name:"use_ssl",qa:8,type:Boolean},7:{name:"client_key",qa:9,type:String},8:{name:"client_cert",qa:9,type:String},9:{name:"server_ca",qa:9,type:String},10:{name:"jdbc_url",qa:9,type:String}}));
return a};$1.Ba=$1.prototype.Ba;a2.prototype.Ba=function(){var a=SBd;a||(SBd=a=Vv(a2,{0:{name:"CreateConnectionResponse",ib:"ritzproto.CreateConnectionResponse"},1:{name:"success",qa:8,type:Boolean},2:{name:"connection_id",qa:9,type:String},3:{name:"error_code",qa:14,defaultValue:0,type:xUa},4:{name:"error_text",qa:9,type:String}}));return a};a2.Ba=a2.prototype.Ba;
b2.prototype.Ba=function(){var a=TBd;a||(TBd=a=Vv(b2,{0:{name:"CreateQueryRequest",ib:"ritzproto.CreateQueryRequest"},1:{name:"connection_id",qa:9,type:String},2:{name:"query",qa:11,type:X1},3:{name:"token",qa:9,type:String}}));return a};b2.Ba=b2.prototype.Ba;c2.prototype.Ba=function(){var a=UBd;a||(UBd=a=Vv(c2,{0:{name:"CreateQueryResponse",ib:"ritzproto.CreateQueryResponse"},1:{name:"execution_status",qa:11,type:Zv},2:{name:"query_id",qa:9,type:String},3:{name:"sheet_id",qa:9,type:String}}));return a};
c2.Ba=c2.prototype.Ba;d2.prototype.Ba=function(){var a=VBd;a||(VBd=a=Vv(d2,{0:{name:"PreviewQueryRequest",ib:"ritzproto.PreviewQueryRequest"},1:{name:"connection_id",qa:9,type:String},2:{name:"query",qa:11,type:X1},3:{name:"max_rows",qa:5,type:Number},4:{name:"token",qa:9,type:String}}));return a};d2.Ba=d2.prototype.Ba;
e2.prototype.Ba=function(){var a=WBd;a||(WBd=a=Vv(e2,{0:{name:"PreviewQueryResponse",ib:"ritzproto.PreviewQueryResponse"},1:{name:"execution_status",qa:11,type:Zv},2:{name:"query_result",qa:11,type:f2},3:{name:"total_rows",qa:5,type:Number},4:{name:"has_more",qa:8,type:Boolean}}));return a};e2.Ba=e2.prototype.Ba;
f2.prototype.Ba=function(){var a=XBd;a||(XBd=a=Vv(f2,{0:{name:"QueryResult",ib:"ritzproto.QueryResult"},1:{name:"column_names",jc:!0,qa:9,type:String},2:{name:"rows",jc:!0,qa:11,type:YBd}}));return a};f2.Ba=f2.prototype.Ba;YBd.prototype.Ba=function(){var a=ZBd;a||(ZBd=a=Vv(YBd,{0:{name:"QueryResultRow",ib:"ritzproto.QueryResultRow"},1:{name:"formatted_values",jc:!0,qa:11,type:fw}}));return a};YBd.Ba=YBd.prototype.Ba;
g2.prototype.Ba=function(){var a=$Bd;a||($Bd=a=Vv(g2,{0:{name:"RefreshSheetRequest",ib:"ritzproto.RefreshSheetRequest"},1:{name:"sheet_id",qa:9,type:String},2:{name:"token",qa:9,type:String}}));return a};g2.Ba=g2.prototype.Ba;h2.prototype.Ba=function(){var a=aCd;a||(aCd=a=Vv(h2,{0:{name:"RefreshSheetResponse",ib:"ritzproto.RefreshSheetResponse"},1:{name:"execution_status",qa:11,type:Zv}}));return a};h2.Ba=h2.prototype.Ba;
i2.prototype.Ba=function(){var a=bCd;a||(bCd=a=Vv(i2,{0:{name:"GetTablesRequest",ib:"ritzproto.GetTablesRequest"},1:{name:"connection_id",qa:9,type:String},2:{name:"project_id",qa:9,type:String},3:{name:"schema_name",qa:9,type:String}}));return a};i2.Ba=i2.prototype.Ba;
j2.prototype.Ba=function(){var a=cCd;a||(cCd=a=Vv(j2,{0:{name:"GetTablesResponse",ib:"ritzproto.GetTablesResponse"},1:{name:"success",qa:8,type:Boolean},2:{name:"error_code",qa:14,defaultValue:0,type:xUa},3:{name:"error_text",qa:9,type:String},4:{name:"tables",jc:!0,qa:11,type:k2}}));return a};j2.Ba=j2.prototype.Ba;
k2.prototype.Ba=function(){var a=dCd;a||(dCd=a=Vv(k2,{0:{name:"Table",ib:"ritzproto.Table"},1:{name:"name",qa:9,type:String},2:{name:"schema",qa:9,type:String},3:{name:"project_id",qa:9,type:String}}));return a};k2.Ba=k2.prototype.Ba;l2.prototype.Ba=function(){var a=fCd;a||(fCd=a=Vv(l2,{0:{name:"EditQueryRequest",ib:"ritzproto.EditQueryRequest"},1:{name:"query_id",qa:9,type:String},2:{name:"query",qa:11,type:X1},3:{name:"token",qa:9,type:String}}));return a};l2.Ba=l2.prototype.Ba;
m2.prototype.Ba=function(){var a=gCd;a||(gCd=a=Vv(m2,{0:{name:"EditQueryResponse",ib:"ritzproto.EditQueryResponse"},1:{name:"execution_status",qa:11,type:Zv}}));return a};m2.Ba=m2.prototype.Ba;hCd.prototype.Ba=function(){var a=iCd;a||(iCd=a=Vv(hCd,{0:{name:"ListConnectionsResponse",ib:"ritzproto.ListConnectionsResponse"},1:{name:"connections",jc:!0,qa:11,type:n2}}));return a};hCd.Ba=hCd.prototype.Ba;
n2.prototype.Ba=function(){var a=jCd;a||(jCd=a=Vv(n2,{0:{name:"Connection",ib:"ritzproto.Connection"},1:{name:"id",qa:9,type:String},2:{name:"name",qa:9,type:String},3:{name:"connection_type",qa:14,defaultValue:0,type:wUa},4:{name:"jdbc_connection_info",qa:11,type:$1}}));return a};n2.Ba=n2.prototype.Ba;o2.prototype.Ba=function(){var a=kCd;a||(kCd=a=Vv(o2,{0:{name:"GetColumnsRequest",ib:"ritzproto.GetColumnsRequest"},1:{name:"connection_id",qa:9,type:String},2:{name:"table",qa:11,type:k2}}));return a};
o2.Ba=o2.prototype.Ba;p2.prototype.Ba=function(){var a=lCd;a||(lCd=a=Vv(p2,{0:{name:"GetColumnsResponse",ib:"ritzproto.GetColumnsResponse"},1:{name:"success",qa:8,type:Boolean},2:{name:"error_code",qa:14,defaultValue:0,type:xUa},3:{name:"error_text",qa:9,type:String},4:{name:"column_names",jc:!0,qa:9,type:String}}));return a};p2.Ba=p2.prototype.Ba;
q2.prototype.Ba=function(){var a=mCd;a||(mCd=a=Vv(q2,{0:{name:"GetDatasetsRequest",ib:"ritzproto.GetDatasetsRequest"},1:{name:"connection_id",qa:9,type:String},2:{name:"project_id",qa:9,type:String}}));return a};q2.Ba=q2.prototype.Ba;
r2.prototype.Ba=function(){var a=nCd;a||(nCd=a=Vv(r2,{0:{name:"GetDatasetsResponse",ib:"ritzproto.GetDatasetsResponse"},1:{name:"success",qa:8,type:Boolean},2:{name:"error_code",qa:14,defaultValue:0,type:xUa},3:{name:"error_text",qa:9,type:String},4:{name:"dataset_names",jc:!0,qa:9,type:String}}));return a};r2.Ba=r2.prototype.Ba;
oCd.prototype.Ba=function(){var a=pCd;a||(pCd=a=Vv(oCd,{0:{name:"GetBigQueryProjectsRequest",ib:"ritzproto.GetBigQueryProjectsRequest"},1:{name:"connection_id",qa:9,type:String}}));return a};oCd.Ba=oCd.prototype.Ba;
s2.prototype.Ba=function(){var a=qCd;a||(qCd=a=Vv(s2,{0:{name:"GetBigQueryProjectsResponse",ib:"ritzproto.GetBigQueryProjectsResponse"},1:{name:"success",qa:8,type:Boolean},2:{name:"error_code",qa:14,defaultValue:0,type:xUa},3:{name:"error_text",qa:9,type:String},4:{name:"projects",jc:!0,qa:11,type:t2}}));return a};s2.Ba=s2.prototype.Ba;
t2.prototype.Ba=function(){var a=rCd;a||(rCd=a=Vv(t2,{0:{name:"BigQueryProject",ib:"ritzproto.BigQueryProject"},1:{name:"id",qa:9,type:String},2:{name:"name",qa:9,type:String}}));return a};t2.Ba=t2.prototype.Ba;sCd.prototype.Ba=function(){var a=tCd;a||(tCd=a=Vv(sCd,{0:{name:"GetQueryRequest",ib:"ritzproto.GetQueryRequest"},1:{name:"query_id",qa:9,type:String}}));return a};sCd.Ba=sCd.prototype.Ba;
u2.prototype.Ba=function(){var a=uCd;a||(uCd=a=Vv(u2,{0:{name:"GetQueryResponse",ib:"ritzproto.GetQueryResponse"},1:{name:"found",qa:8,type:Boolean},2:{name:"query",qa:11,type:X1}}));return a};u2.Ba=u2.prototype.Ba;function vCd(a,b){b=void 0===b?"":b;this.C=[];for(var c=0;c<a.length;c++)this.C.push(a[c].clone());this.D=b};function wCd(){return P('<div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-project-section")+'"><div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper")+'"></div></div>')}
function xCd(){var a='<div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-footer-sharing-message")+'">';return P(a+"The data you query is visible to everyone with view access, but your query is only visible to people with edit access.</div>")};function yCd(a,b){S1.call(this,"waffle-dataconnector-bigqueryquerysettingsdialog",b);HBd(this,"BigQuery query settings");this.D=new sU;this.Fa(this.D);this.D.Id("waffle-dataconnector-bigqueryquerysettingsdialog-project-select");this.D.setContent("Billing project");b=a.C;for(var c=0;c<b.length;c++){var d=b[c];this.D.zd(new Ek(d.getName(),d.getId()))}this.F=new JU("Create Query");this.Fa(this.F);this.F.Id("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button");this.L=a.C}q(yCd,S1);
yCd.prototype.Aa=function(){S1.prototype.Aa.call(this);ir(this.Lb(),wCd);ir(GBd(this),xCd);this.D.render(this.Ia("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper"));this.F.render(this.Ia("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper"))};yCd.prototype.Ga=function(){S1.prototype.Ga.call(this);this.getHandler().R(this.F,"action",this.O).R(this.D,"change",this.J);this.J()};yCd.prototype.J=function(){this.F.Oa(null!=this.D.Xe())};yCd.prototype.O=function(){this.resolve(zCd(this))};
function zCd(a){var b=a.D.Xe().La();return new vCd(a.L,b)};function v2(a,b){Cq.call(this,"waffle-dataconnector-prompt",a,b);this.L=pf();Rq(this,null);Oq(this,!0);this.C=new LU("Continue");this.Fa(this.C);this.J=new KU("Cancel");this.Fa(this.J);this.O=[]}q(v2,Cq);p=v2.prototype;p.Id=function(a){this.O.push(a);var b=this.getElement();b&&Eh(b,a)};p.getResult=function(){return this.L.C};p.resolve=function(a){this.L.resolve(a)};p.reject=function(){this.L.reject()};
p.Aa=function(){Cq.prototype.Aa.call(this);var a=Iq(this);this.J.render(a);this.C.render(a);L(a,!0)};p.Ga=function(){var a=this;Cq.prototype.Ga.call(this);for(var b=ha(this.O),c=b.next();!c.done;c=b.next())Eh(this.Ra(),c.value);this.getHandler().R(this.J,"action",function(){return a.reject()})};p.setVisible=function(a){Cq.prototype.setVisible.call(this,a);a||this.reject()};p.Ea=function(){Cq.prototype.Ea.call(this);this.reject()};function ACd(a,b){v2.call(this,a,b)}q(ACd,v2);ACd.prototype.Ga=function(){var a=this;v2.prototype.Ga.call(this);this.getHandler().R(this.C,"action",function(){return a.resolve(0)})};function BCd(a){var b='<div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-content")+'"><div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-access-security")+'" tabindex="0"><h3>';b+="Access &amp; security.";var c="";c=a.rOa?c+"<p>Plx is an internal-only connection that's visible only to Googlers.</p><p>People outside of google.com will see Plx as an unnamed connection.":c+"<p>Database passwords and user IDs are not shared amongst collaborators.";c=P(c+"</p>");b+="</h3>"+
c+'</div><div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-data-visibility")+'" tabindex="0"><h3>';b+="Who can see data &amp; queries";c="<p>Users who can view the spreadsheet will be able to see the data.</p>";c=a.rOa?c+"<p>Google users who can edit the spreadsheet will be able to view and modify the query.</p><p>Users outside of google.com who can view the spreadsheet will be able to view the data, but will not be able to view or refresh the query.":c+"<p>Users who can edit the spreadsheet can view and modify the query only after they've signed into the database.";
a=P(c+"</p>");return P(b+("</h3>"+a+"</div></div>"))};function CCd(){return P('<div class="'+Q("waffle-dataconnector-dialog-progress-message")+'"><div class="'+Q("waffle-dataconnector-dialog-progress-label")+'"></div><div class="'+Q("waffle-dataconnector-dialog-progress-bar")+'"></div></div>')};function DCd(a){nQ.call(this,a);this.D=!1}q(DCd,nQ);DCd.prototype.Aa=function(){nQ.prototype.Aa.call(this);Eh(this.getElement(),"waffle-progress-bar");Ih(this.getElement(),"waffle-indeterminate-progress-bar",this.D)};function ECd(a,b){a.D!=b&&(a.D=b,a.getElement()&&Ih(a.getElement(),"waffle-indeterminate-progress-bar",b))}DCd.prototype.Pa=function(a){ECd(this,!1);nQ.prototype.Pa.call(this,a)};
function FCd(a,b){ECd(a,!1);var c={width:a.La()+"%"},d={width:b+"%"};c=new Zq(a.Ia("progress-bar-thumb"),1,c,d,{xg:"width",duration:1,timing:"ease-in",Ul:0});c.Sc("end",function(){nQ.prototype.Pa.call(a,b)});c.play()};function w2(a,b){Cq.call(this,"waffle-dataconnector-dialog",a,b);Rq(this,null);this.Fz(!1);Oq(this,!0);this.Qa=[];this.kb=new LU("Ok");this.Fa(this.kb);this.Sa=new KU("Cancel");this.Fa(this.Sa);this.Wa=new hj;this.Cb=Dj(new Cj,1).build();this.Hb=this.oa().Aa("DIV","waffle-dataconnector-dialog-error-message");this.Nb=this.oa().Aa("DIV","waffle-dataconnector-dialog-info-message");this.Wb=N(CCd);this.L=new DCd;ECd(this.L,!0);this.Fa(this.L)}q(w2,Cq);function GCd(a,b,c){nj(a.Wa,a.kb,b,pj,c,a.Cb)}
function HCd(a){nj(a.Wa,a.Sa,v5a,pj,void 0,a.Cb)}function ICd(a){var b=["waffle-dataconnector-queryeditor"];a.Rb()&&(Hh(a.Ra(),a.Qa),Fh(a.Ra(),b));a.Qa=b}
w2.prototype.Aa=function(){Cq.prototype.Aa.call(this);Fh(this.Ra(),this.Qa);var a=Iq(this),b=this.oa().Aa("DIV","waffle-dataconnector-dialog-button-wrapper");a.appendChild(b);this.Sa.render(b);this.kb.render(b);L(a,!0);b=this.oa().Aa("DIV","waffle-dataconnector-dialog-message-container",this.Hb,this.Nb,this.Wb);a.appendChild(b);this.L.render(this.Ia("waffle-dataconnector-dialog-progress-bar"));ir(PCa(this),tGc)};
w2.prototype.Ga=function(){Cq.prototype.Ga.call(this);x2(this);xh(this.Hb,"live","polite");xh(this.Nb,"live","polite");xh(this.Wb,"live","polite")};w2.prototype.Fz=function(a){Cq.prototype.Fz.call(this,a);Kq(this,this.kK?0:.6)};function JCd(a,b){a=a.Ia("waffle-dataconnector-dialog-error-message");sd(a,b||md(""));L(a,!!b)}function KCd(a,b){a=a.Ia("waffle-dataconnector-dialog-info-message");sd(a,b||md(""));L(a,!!b)}
function LCd(a,b,c){re(a.Ia("waffle-dataconnector-dialog-progress-label"),b);null!=c&&FCd(a.L,c);L(a.Ia("waffle-dataconnector-dialog-progress-message"),!0)}function x2(a){JCd(a,null);KCd(a,null);a.L.Pa(0);ECd(a.L,!0);L(a.Ia("waffle-dataconnector-dialog-progress-message"),!1)};function MCd(a,b,c,d){w2.call(this,c,d);Dq(this,"Connected");this.F=a;this.C=b;HCd(this);GCd(this,x5a)}q(MCd,w2);MCd.prototype.Aa=function(){w2.prototype.Aa.call(this);ir(this.Lb(),BCd,{rOa:2==this.C})};function NCd(a){return P('<div class="'+Q("waffle-dataconnector-connectioncard")+'" role="button" tab-index="0"><div class="'+Q("waffle-dataconnector-connectioncard-icon")+'"></div><div class="'+Q("waffle-dataconnector-connectioncard-body")+'"><div class="'+Q("waffle-dataconnector-connectioncard-header")+'">'+O(a.qP)+"</div></div></div>")};function OCd(a,b,c,d){this.Jc=a;this.D=b;this.Cc=c;this.C=d}OCd.prototype.getName=g("D");OCd.prototype.getId=g("Jc");OCd.prototype.getType=g("Cc");function PCd(){this.Cc=this.Jc=this.D=null;this.C=!1}PCd.prototype.Te=function(a){this.D=a;return this};PCd.prototype.Cf=function(a){this.Jc=a;return this};PCd.prototype.setType=function(a){this.Cc=a;return this};function QCd(a){a.C=!0;return a}PCd.prototype.build=function(){return new OCd(this.Jc,this.D,this.Cc,this.C)};function RCd(){}q(RCd,lr);RCd.prototype.Aa=function(a){a=a.Ta();var b=N(NCd,{qP:a.getName()});Ih(b,"waffle-dataconnector-connectioncard-authenticated",a.C);return b};RCd.prototype.mc=n("waffle-dataconnector-connectioncard");ta(RCd);function SCd(a,b){nr.call(this,void 0,RCd.getInstance(),b);this.Lc(a);this.ef(8,!0)}q(SCd,nr);SCd.prototype.Lc=function(a){nr.prototype.Lc.call(this,a)};function TCd(){return P('<div class="'+Q("waffle-dataconnector-connectionmanager-content")+'"><div class="'+Q("waffle-dataconnector-connectionmanager-connections")+'"><div class="'+Q("waffle-dataconnector-connectionmanager-authorized")+'"></div></div></div>')};function UCd(a,b){w2.call(this,a,b);Dq(this,"Managed connections");this.C=new Rr;this.va(this.C);this.F=new M(this.oa());this.Fa(this.F);this.J=new UT;this.Fa(this.J);GCd(this,eB);HCd(this)}q(UCd,w2);UCd.prototype.Aa=function(){w2.prototype.Aa.call(this);ir(this.Lb(),TCd)};
UCd.prototype.Ga=function(){w2.prototype.Ga.call(this);this.J.render(this.Ia("waffle-dataconnector-connectionmanager-content"));this.F.hb(this.Ia("waffle-dataconnector-connectionmanager-connections"));this.getHandler().R(this.F,"action",this.O).R(this.C,"select",this.ea);VCd(this,!0)};function VCd(a,b){Ih(a.Ra(),"waffle-dataconnector-connectionmanager-loading",b);VT(a.J,b)}
function WCd(a,b){var c=a.Ia("waffle-dataconnector-connectionmanager-authorized");b=ha(b);for(var d=b.next();!d.done;d=b.next())d=new SCd(d.value),a.F.Fa(d),d.render(c)}UCd.prototype.O=function(a){a.stopPropagation();Sr(this.C,a.target)};UCd.prototype.ea=function(){var a=(a=(a=this.C.Xe())&&a)&&a.Ta();eB.Pa(a)};function XCd(a){var b='<div class="'+Q("waffle-dataconnector-bar")+'"><div class="'+Q("waffle-dataconnector-bar-header")+'" tabindex="0" aria-label="',c="Data connection: "+Q(a.qP);b+=xr(c);b+='">'+O(a.qP)+'</div><div class="'+Q("waffle-dataconnector-bar-editquery-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-bar-timestamp")+'" tabindex="0"></div><div class="'+Q("waffle-dataconnector-bar-refresh-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-bar-progress")+'"><div class="'+
Q("waffle-dataconnector-bar-spinner")+'"></div><span class="'+Q("waffle-dataconnector-bar-progress-message")+'"></span></div></div>';return P(b)};function YCd(a,b,c){NU.call(this,c);this.V=a;this.H=new hj;this.va(this.H);this.C=new MU;this.Fa(this.C);this.C.Id("waffle-dataconnector-bar-editquery-button");nj(this.H,this.C,bB,pj);this.D=new MU;this.Fa(this.D);this.D.Id("waffle-dataconnector-bar-refresh-button");nj(this.H,this.D,dB,pj);this.O=b;this.xa=new ZCd}q(YCd,NU);YCd.prototype.Cta=function(){return N(XCd,{qP:Sb(this.V,64)})};
YCd.prototype.Ga=function(){NU.prototype.Ga.call(this);this.C.render(this.Ia("waffle-dataconnector-bar-editquery-button-wrapper"));this.D.render(this.Ia("waffle-dataconnector-bar-refresh-button-wrapper"));$Cd(this,this.O);aDd(this,!1)};YCd.prototype.Bja=n("waffle-dataconnector-bar-wrapper");YCd.prototype.focus=function(){this.Ra().focus()};
function bDd(a,b){aDd(a,!0);null!=b?(b="Executing query - "+(b+"%"),re(a.Ia("waffle-dataconnector-bar-progress-message"),b)):re(a.Ia("waffle-dataconnector-bar-progress-message"),"Executing query")}function $Cd(a,b){0>=b||(a.O=b,b="Last refreshed "+a.xa.format(b),a=a.Ia("waffle-dataconnector-bar-timestamp"),re(a,b))}
function aDd(a,b){Ih(a.Ra(),"waffle-dataconnector-bar-executing",b);bB.isEnabled()&&bB.setVisible(!b);dB.isEnabled()&&dB.setVisible(!b);L(a.Ia("waffle-dataconnector-bar-timestamp"),!b);L(a.Ia("waffle-dataconnector-bar-progress"),b)}function ZCd(){this.C=new Dt(1);this.D=new Dt(Gt.MONTH_DAY_MEDIUM);this.F=new Dt(7)}
ZCd.prototype.format=function(a){a=new Date(a);var b=new Date;b=0<b.getFullYear()-a.getFullYear()?this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?"Today":this.D.format(a);a=this.F.format(a);return b+(", "+a)};function cDd(){A.call(this);this.C={};this.Zc=new Xv}q(cDd,A);function dDd(a,b){var c=ritz_api.DbxApi.getExecutionStatusForQuery(b);c=null==c?null:a.Zc.ud(Zv.Ba(),c);var d=a.C[b];return d?c&&d.getToken()==c.getToken()?(uc(a.C,b),c):d:c};function eDd(a,b,c,d,e,f){OU.call(this,"waffle-connectionbar-id",f);var h=this;yGc(this,function(){h.C.setVisible(!0,!0);QP()});this.H=a;this.L=b;this.F=c;this.J=d;this.D=e}q(eDd,OU);p=eDd.prototype;p.xb=g("L");p.Nu=function(){OU.prototype.Nu.call(this);this.getHandler().R(this.D,"Ua",this.LFb);this.TB()};p.show=function(){OU.prototype.show.call(this);fDd(this)};
function fDd(a){var b=dDd(a.J,a.F);if(b)switch(b.getState()){case 4:bDd(a.C);break;case 1:bDd(a.C,V(b,5));break;case 2:aDd(a.C,!1);break;case 3:aDd(a.C,!1)}}p.CQ=function(){return new YCd(this.H,gDd(this))};p.LFb=function(a){this.isDisposed()||a.Ah!=qH(this.D.C)||$Cd(this.C,gDd(this))};function gDd(a){a=a.D.C.C.xb().toString();return ritz_api.DbxApi.getLastExecutionTimeForSheet(a)};function hDd(){this.C=null;this.Zc=new Xv}hDd.prototype.Lf=ca("C");function iDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/createConnection"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(a2.Ba(),c.qf());c.jq()?e(c):b(c)}),function(){var a=new a2;W(a,1,!1);W(a,3,1);e(a)}).ue()})}
function jDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/createQuery"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(c2.Ba(),c.qf());3==c.Hk().getState()?e(c):b(c)}),function(){var a=new c2,b=new Zv;W(a,1,b);b.Ib(3);W(b,2,1);e(a)}).ue()})}
function kDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/importConnection"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(){b()}),function(){e()}).ue()})}
function lDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/previewQuery"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(e2.Ba(),c.qf());3==c.Hk().getState()?e(c):b(c)}),function(){var a=new e2,b=new Zv;W(a,1,b);b.Ib(3);W(b,2,1);e(a)}).ue()})}
function mDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/refreshSheet"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(h2.Ba(),c.qf());3==c.Hk().getState()?e(c):b(c)}),function(){var a=new h2,b=new Zv;W(a,1,b);b.Ib(3);W(b,2,1);e(a)}).ue()})}
function nDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/editQuery"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(m2.Ba(),c.qf());3==c.Hk().getState()?e(c):b(c)}),function(){var a=new m2,b=new Zv;W(a,1,b);b.Ib(3);W(b,2,1);e(a)}).ue()})}
function oDd(a){return new kf(function(b,c){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/listConnections"),"GET")),1).setTimeout(3E4).yf(["currentWorkbookOnly",!0]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(hCd.Ba(),c.qf());b(c)}),c).ue()})}
function pDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/getTables"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(j2.Ba(),c.qf());c.jq()?e(c):b(c)}),function(){var a=new j2;W(a,1,!1);W(a,2,1);e(a)}).ue()})}
function qDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/getColumns"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(p2.Ba(),c.qf());c.jq()?e(c):b(c)}),function(){var a=new p2;W(a,1,!1);W(a,2,1);e(a)}).ue()})}
function rDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/getQuery"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(u2.Ba(),c.qf());b(c)}),e).ue()})}
function sDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/getBigQueryProjects"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(s2.Ba(),c.qf());c.jq()?e(c):b(c)}),function(){var a=new s2;W(a,1,!1);W(a,2,1);e(a)}).ue()})}
function tDd(a,b){a.Zc.Bi=!0;var c=Wl(a.Zc.serialize(b));return new kf(function(b,e){Su(Ps(Ym(Bv(Qs(a.C.Me("/dbx/getDatasets"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Bi=!1;c=a.Zc.ud(r2.Ba(),c.qf());c.jq()?e(c):b(c)}),function(){var a=new r2;W(a,1,!1);W(a,2,1);e(a)}).ue()})};function uDd(a,b,c){b=c||b;return P('<div class="'+Q("waffle-dataconnector-draggablebar")+'">'+vDd(null,b)+"</div>")}function vDd(){return P('<div class="'+Q("waffle-dataconnector-draggablebar-handle")+'"><div class="'+Q("waffle-dataconnector-draggablebar-handle-icon")+'"></div></div>')};function wDd(a,b){M.call(this,b);this.D=a;this.Oc=null;this.C=0}q(wDd,M);p=wDd.prototype;p.Aa=function(){this.Ua=N(uDd)};p.Wc=function(a){this.Ua=a;Eh(this.Ra(),"waffle-dataconnector-draggablebar");ir(a,vDd)};
p.Ga=function(){this.Oc=new xq(this.Ra(),this.Ia("waffle-dataconnector-draggablebar-handle"));this.va(this.Oc);this.Oc.C=!0;this.getHandler().R(this.Oc,"start",this.IOb).R(this.Oc,"drag",this.dQb).R(this.Oc,"end",this.HOb);"vertical"==this.D?(ki(this.Ra(),8),Eh(this.Ra(),"waffle-dataconnector-draggablebar-vertical")):(li(this.Ra(),8),Eh(this.Ra(),"waffle-dataconnector-draggablebar-horizontal"))};p.dd=n(8);p.Oa=function(a){this.Oc.Oa(a)};p.IOb=function(){yq(this.Oc,xDd(this));this.dispatchEvent("xe")};
p.dQb=function(a){this.C="vertical"==this.D?a.left:a.top;this.dispatchEvent("ve")};p.HOb=function(){this.dispatchEvent("we")};function xDd(a){var b=a.Ra().parentElement.getBoundingClientRect(),c=b.height;b=b.width;"horizontal"==a.D?(b=0,c-=a.dd()):(c=0,b-=a.dd());return new Ph(0,0,b,c)};function yDd(a,b,c){switch(a){case 1:a:switch(b){case 2:c=y2("Can't connect. Review login information and database name then try again.",c);break a;case 5:c=y2("Review database or table and try again",c);break a;default:c=zDd(b,c)}return c;case 2:a:switch(b){case 9:c=new Bp;a=c.ke("span",{"class":"waffle-dataconnector-error-message"})+("Go to Plx to specify an engine other than 'Auto' and try again. "+(c.ke("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",
target:"_blank"})+("Learn more"+(c.re("a")+c.re("span")))));c=c.format(a);break a;case 2:c?(a=new Bp,b=a.ke("span",{"class":"waffle-dataconnector-error-message"}),b+=a.ke("span",{"class":"waffle-dataconnector-error-message-detail"}),b=b+c+a.re("span"),b+=a.re("span"),c=a.format(b)):c=ADd(null);break a;default:c=zDd(b,c)}return c}}
function BDd(a){var b=new Bp;a=(new Mt("To execute this query, {startLink}sign in to your Google account{endLink}")).format({startLink:b.ke("a",{href:"#",id:a}),endLink:b.re("a")});return b.format(a)}
function zDd(a,b){switch(a){case 4:return y2("Review query and try again",b);case 3:return y2("Can't connect. Host not available.",b);case 6:return J(H(),"docs-idu")?(a=new Bp,b=a.ke("span",{"class":"waffle-dataconnector-error-message"})+("Query timed out. "+(a.ke("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+(a.re("a")+a.re("span"))))),a=a.format(b)):a=y2("Query timed out",b),a;case 8:return J(H(),"docs-idu")?(a=new Bp,
b=a.ke("span",{"class":"waffle-dataconnector-error-message"})+("Results exceed "+(CDd+(" rows. Update query and run again. "+(a.ke("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+(a.re("a")+a.re("span"))))))),a=a.format(b)):a=y2(DDd,b),a;default:return ADd(b)}}function ADd(a){return y2("Something's wrong. Please try again later.",a)}var CDd=(new Jt(1)).format(1E4),DDd="Results exceed "+(CDd+" rows. Update query and run again.");
function y2(a,b){var c=new Bp,d=c.ke("span",{"class":"waffle-dataconnector-error-message"});d+=c.ke("span",{"class":"waffle-dataconnector-error-message-main"});d=d+a+c.re("span");b&&(d=d+": "+c.ke("span",{"class":"waffle-dataconnector-error-message-detail"}),d=d+b+c.re("span"));d+=c.re("span");return c.format(d)};function EDd(a){M.call(this,a);this.F=this.oa().Aa("DIV","waffle-dataconnector-dialog-error-message");this.H=this.oa().Aa("DIV","waffle-dataconnector-dialog-info-message");this.J=N(CCd);this.C=new DCd;ECd(this.C,!0);this.Fa(this.C);this.D=!0}q(EDd,M);EDd.prototype.Aa=function(){this.Ua=this.oa().Aa("DIV","waffle-dataconnector-dialog-message-container",this.F,this.H,this.J);this.C.render(this.Ia("waffle-dataconnector-dialog-progress-bar"))};
EDd.prototype.Ga=function(){M.prototype.Ga.call(this);z2(this);xh(this.F,"live","polite");xh(this.H,"live","polite");xh(this.J,"live","polite")};function FDd(a,b){var c=a.Ia("waffle-dataconnector-dialog-error-message");z2(a);sd(c,b||md(""));L(c,!!b)}function z2(a){var b=a.Ia("waffle-dataconnector-dialog-error-message");sd(b,md(""));L(b,!1);b=a.Ia("waffle-dataconnector-dialog-info-message");sd(b,md(""));L(b,!1);a.C.Pa(0);ECd(a.C,!0);L(a.Ia("waffle-dataconnector-dialog-progress-message"),!1)}
EDd.prototype.isVisible=g("D");EDd.prototype.setVisible=function(a){this.D=a;this.Rb()&&L(this.Ra(),this.D)};function GDd(){return P('<div class="'+Q("waffle-dataconnector-newqueryeditor-content")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-main")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-editor-pane")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-resize-bar")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-pane")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-canvas-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-overlay")+
'"><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-overlay-text")+'"></div></div></div></div><div class="'+Q("waffle-dataconnector-newqueryeditor-sidebar")+'"></div></div>')}
function HDd(){return P('<div class="'+Q("waffle-dataconnector-newqueryeditor-footer")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-message-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-insert-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-button-wrapper")+'"></div></div>')};function IDd(){var a='<div class="'+Q("waffle-dataconnector-query-parameter-prompt-input-container")+'"></div><div class="'+Q("waffle-dataconnector-query-parameter-prompt-toggle-row")+'"><div class="'+Q("waffle-dataconnector-query-parameter-prompt-toggle-label")+'">';return P(a+"Reference cell</div></div>")};function JDd(a){PU.apply(this,arguments)}q(JDd,PU);JDd.prototype.La=function(){return this.C.La()};JDd.prototype.m1=function(a){this.C.Pa(a);return!0};function KDd(a){R1.call(this,"waffle-dataconnector-query-parameter-prompt",a);HBd(this,"Query Parameter");this.L=null;this.J=new LU;this.Fa(this.J);this.J.Id("waffle-dataconnector-query-parameter-prompt-primary-button");this.H=new JDd("text","Name","float","",void 0);this.Fa(this.H);this.H.Id("waffle-dataconnector-query-parameter-prompt-name-field");this.H.xa=!0;this.H.ea=this.uXa;this.D=new JDd("text","Value","float","",void 0);this.Fa(this.D);this.D.Id("waffle-dataconnector-query-parameter-prompt-value-field");
this.D.xa=!0;this.D.ea=this.vXa;this.F=new fQ;this.Fa(this.F);this.F.Id("waffle-dataconnector-query-parameter-prompt-cell-reference-toggle")}q(KDd,R1);p=KDd.prototype;p.Te=function(a){this.H.Pa(a)};p.Pa=function(a){this.D.Pa(a)};p.getName=function(){return this.H.La()};p.La=function(){return this.D.La()};p.clear=function(){this.H.Pa("");this.D.Pa("");QU(this.H,!1);QU(this.D,!1);this.F.xc(!1)};
p.Aa=function(){R1.prototype.Aa.call(this);ir(this.Lb(),IDd);this.H.render(this.Ia("waffle-dataconnector-query-parameter-prompt-input-container"));this.D.render(this.Ia("waffle-dataconnector-query-parameter-prompt-input-container"));var a=this.Ia("waffle-dataconnector-query-parameter-prompt-toggle-label");Ai(this.F,a);nwc(this.F,a);this.J.render(GBd(this))};
p.Ga=function(){R1.prototype.Ga.call(this);L(this.zs(),!1);this.getHandler().R(this.J,"action",this.ICb).R(this.F,"change",this.o_b);nwc(this.F,this.Ia("waffle-dataconnector-query-parameter-prompt-toggle-label"))};p.dj=function(a){this.L=new Jj(a,0)};p.vd=function(){this.L?this.L.vd(this.getElement(),0):R1.prototype.vd.call(this)};p.ICb=function(a){a.stopPropagation();(a=this.uXa(this.H.La()))&&QU(this.H,!0,a);var b=this.vXa(this.D.La());b&&QU(this.D,!0,b);a||b||this.dispatchEvent("ye")};
p.o_b=function(){var a=this.F.isChecked()?"Cell reference":"Value";this.D.setContent(a)};p.uXa=function(a){return Jb(a)?"Parameter name is required":null};p.vXa=function(a){return Jb(a)?"Parameter value is required":null};p.v8=function(){this.dispatchEvent("ze")};p.r8=function(){this.dispatchEvent("ze")};function A2(a,b){M.call(this,b);this.J=new oU(a,this.oa());this.Fa(this.J)}q(A2,M);p=A2.prototype;p.Sd=function(a){this.J.getHeader().xc(a)};p.setContent=function(a){this.J.setContent(a)};p.Lb=function(){return this.J.Lb()};p.Aa=function(){this.Ua=this.oa().Aa("DIV","waffle-dataconnector-queryeditor-collapsible-sidebar-widget");this.J.render(this.Ra())};p.Ga=function(){M.prototype.Ga.call(this);this.getHandler().R(this,["aftershow","afterhide"],function(a){return a.stopPropagation()})};function LDd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget")+'"><div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container")+'"></div></div>')}
function MDd(a){return P('<span class="'+Q("waffle-dataconnector-queryparameterchip-content")+'"><span class="'+Q("waffle-dataconnector-queryparameterchip-name")+'">'+O(a.name)+':</span>&nbsp;<span class="'+Q("waffle-dataconnector-queryparameterchip-value")+'">'+O(a.value)+"</span></span>")};function NDd(){return P('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>')};function ODd(){}q(ODd,lr);ODd.prototype.Aa=function(a){a=a.oa().Aa("DIV","waffle-dataconnector-close-badge");ir(a,NDd);return a};ODd.prototype.mc=n("waffle-dataconnector-close-badge");ta(ODd);function PDd(){nr.call(this,void 0,ODd.getInstance())}q(PDd,nr);function QDd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-removable-chip")+'"><div class="'+Q("waffle-dataconnector-queryeditor-removable-chip-remove-button-wrapper")+'"></div></div>')};function B2(a,b){M.call(this,b);this.C=new nr(a,RDd.getInstance(),this.oa());this.Fa(this.C);this.D=new PDd;this.Fa(this.D)}q(B2,M);p=B2.prototype;p.Aa=function(){this.Ua=N(QDd);this.C.render(this.getElement());this.D.render(this.Ia("waffle-dataconnector-queryeditor-removable-chip-remove-button-wrapper"));this.D.Id("waffle-dataconnector-queryeditor-removable-chip-remove-button")};
p.Ga=function(){var a=this;M.prototype.Ga.call(this);this.getHandler().R(this.C,"action",function(b){b.stopPropagation();a.dispatchEvent("Ae")}).R(this.D,"action",function(b){b.stopPropagation();a.dispatchEvent("Be")})};p.setContent=function(a){this.C.setContent(a)};p.Lb=function(){return this.C.Lb()};p.setVisible=function(a){var b=this.getElement();b&&L(b,a)};function RDd(){}q(RDd,lr);RDd.prototype.mc=n("waffle-dataconnector-queryeditor-removable-chip-button");ta(RDd);var SDd=new Xv;function TDd(a){var b=ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(a);return b&&(b=ritz_api.RitzModelApi.getNamedRangeById(b))?SDd.ud(nz.Ba(),b).getName():a};function UDd(a){A2.call(this,"Parameters",a);this.D=new M;this.Fa(this.D);this.C=new VDd;this.F=new LU("Add Parameter");this.Fa(this.F);this.F.Id("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button")}q(UDd,A2);p=UDd.prototype;
p.Aa=function(){A2.prototype.Aa.call(this);this.setContent(N(LDd));this.D.hb(this.Ia("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container"));this.F.render(this.Ia("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper"));for(var a=ha(this.C.qd()),b=a.next();!b.done;b=a.next())b.value.render(this.D.getElement())};p.Ga=function(){A2.prototype.Ga.call(this);this.getHandler().R(this.D,"Ae",this.Bqb).R(this.D,"Be",this.TDb).R(this.F,"action",this.Jnb)};
function WDd(a){return a.C.qd().map(function(a){return a.Ta()})}function XDd(a,b){YDd(b);var c=b.getName();if(a.C.get(c))throw new ZDd("Parameter with name '"+c+"' is\nalready defined.");b=new $Dd(b,a.oa());a.C.set(c,b);a.D.Fa(b,a.Rb())}p.Bqb=function(a){a.stopPropagation();this.dispatchEvent(new aEd("Ee",this,a.target.Ta()))};p.TDb=function(a){a.stopPropagation();this.dispatchEvent(new aEd("De",this,a.target.Ta()))};p.Jnb=function(a){a.stopPropagation();this.dispatchEvent(new aEd("Ce",this))};
function VDd(){this.wb={}}p=VDd.prototype;p.get=function(a){return this.wb["P_"+a.toUpperCase()]||null};p.has=function(a){return!!this.wb["P_"+a.toUpperCase()]};p.set=function(a,b){this.wb["P_"+a.toUpperCase()]=b};p.qd=function(){return Object.values(this.wb)};p.clear=function(){for(var a=Object.keys(this.wb),b=0;b<a.length;b++)delete this.wb[a[b]]};function $Dd(a,b){B2.call(this,bEd(a),b);B2.prototype.Lc.call(this,a.clone())}q($Dd,B2);
$Dd.prototype.Lc=function(a){B2.prototype.Lc.call(this,a.clone());this.setContent(bEd(a))};$Dd.prototype.Ta=function(){return B2.prototype.Ta.call(this).clone()};function YDd(a){var b=a.getName();if(!b)throw new cEd("Parameters must have a name");var c=V(a,2);a=V(a,3);if(!c&&!a)throw new cEd("Parameter with name '"+b+"'has neither a\nconstant value or workbookrange id set.");if(c&&a)throw new cEd("Parameter with name '"+b+"' has both a\nconstant value and workbookrange id set.");}
function bEd(a){var b=a.getName().toUpperCase(),c=V(a,3);a=c?TDd(c):V(a,2);return N(MDd,{name:b,value:a})}function cEd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(cEd,Error);function ZDd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(ZDd,Error);function dEd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(dEd,Error);
function aEd(a,b,c){D.call(this,a,b);this.C=c}q(aEd,D);function eEd(a,b){E.call(this);this.H=new Lh(this);this.va(this.H);this.F=new Lh(this);this.va(this.F);this.D=a;this.C=b}q(eEd,E);p=eEd.prototype;p.Jf=function(){this.C.dj(this.D.Ra());this.C.vd();this.H.R(this.D,"Ce",this.EJb).R(this.D,"De",this.FJb).R(this.D,"Ee",this.GJb)};p.EJb=function(){this.C.setVisible(!0);this.C.J.setContent("Add");this.F.R(this.C,"ye",this.RMb).R(this.C,"ze",this.q4)};
p.GJb=function(a){a=a.C;this.C.setVisible(!0);this.C.Te(a.getName());var b=V(a,2),c=V(a,3);b?(this.C.Pa(b),this.C.F.xc(!1)):c&&(this.C.Pa(TDd(c)),this.C.F.xc(!0));this.C.J.setContent("Update");fEd(this,a)};p.RMb=function(){var a=this.C.getName(),b=this.C.La();if(!this.D.C.has(a)){var c=this.C.F.isChecked();if(a=gEd(this,a,b,c))XDd(this.D,a),this.q4(),this.dispatchEvent("He")}};
function fEd(a,b){var c=b.getName();a.F.R(a.C,"ye",function(){var b=a.C.getName(),e=a.C.La();if(b==c||!a.D.C.has(b)){var f=a.C.F.isChecked();if(b=gEd(a,b,e,f)){e=a.D;YDd(b);f=b.getName();if(!e.C.get(c))throw new dEd;if(f.toUpperCase()!=c.toUpperCase()&&e.C.get(f))throw new ZDd;var h=e.C.get(c);h.Lc(b);f!=c&&(delete e.C.wb["P_"+c.toUpperCase()],e.C.set(f,h));a.q4();a.dispatchEvent("He")}}}).R(a.C,"ze",a.q4)}
p.FJb=function(a){a=a.C.getName();this.D.C.has(a);var b=this.D,c=b.C.get(a);if(!c)throw new dEd;b.D.removeChild(c,b.Rb());delete b.C.wb["P_"+a.toUpperCase()];C(c);this.dispatchEvent("He")};p.q4=function(){this.C.setVisible(!1);this.C.clear();this.F.Kc()};
function gEd(a,b,c,d){d?(c=ritz_api.DbxApi.parseQueryParameterRange(c),c.getErrorMessage()?(b=a.C,a=c.getErrorMessage(),null==a?QU(b.D,!1):QU(b.D,!0,a),b=null):c.getNamedRangeWorkbookRangeId()?(a=c.getNamedRangeWorkbookRangeId(),c=new V1,c.Te(b),W(c,3,a),b=c):b=void 0):(a=new V1,a.Te(b),W(a,2,c),b=a);return b};function hEd(){return P('<div class="'+Q("waffle-dataconnector-querypreviewrenderer")+'"><div class="'+Q("waffle-dataconnector-querypreviewrenderer-canvas-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-querypreviewrenderer-canvas-overlay")+'"><div class="'+Q("waffle-dataconnector-querypreviewrenderer-overlay-text")+'"></div></div></div>')};function C2(a,b){M.call(this,b);this.J=a;this.C=this.oa().Aa("CANVAS");gM(this.C);this.F=fM(this.C);this.L=ritz_api.DbxApi.createGridViewModel(101,24);this.D=ritz_api.DbxApi.createGridView(this.L,this.F,this.J.D,this.J.C);hM(this.C,this.F,800,243);iEd(this);this.Zc=new Xv;this.H=!0}q(C2,M);C2.prototype.Aa=function(){this.Ua=N(hEd);var a=this.Ia("waffle-dataconnector-querypreviewrenderer-canvas-wrapper");a.appendChild(this.C);Eh(a,"native-scrollbar");Eh(a,"native-scrollbar-ltr")};
C2.prototype.Ga=function(){M.prototype.Ga.call(this);L(this.Ra(),this.H)};C2.prototype.Ea=function(){M.prototype.Ea.call(this)};C2.prototype.setVisible=function(a){this.H=a;this.Rb()&&L(this.Ra(),this.H)};function iEd(a){a.F.fillStyle="#f3f3f3";a.F.fillRect(0,0,a.C.width,a.C.height)};function jEd(){var a='<div class="'+Q("waffle-dataconnector-sqleditor")+'"><div class="'+Q("waffle-dataconnector-sqleditor-textareawrapper")+'"><div class="'+Q("waffle-dataconnector-sqleditor-overlay")+'"><div class="'+Q("waffle-dataconnector-sqleditor-overlay-message")+'"></div></div><textarea class="'+Q("waffle-dataconnector-sqleditor-textarea")+'" spellcheck="false" aria-label="';a+=xr("Enter your query");a+='"></textarea><div class="'+Q("waffle-dataconnector-sqleditor-linegutter")+'"></div></div></div>';
return P(a)};function D2(a,b){a=void 0===a?"":a;M.call(this,b);this.Wd=!0;this.D=!1;this.J=a;this.F=this.C=null;this.H=new UT;this.Fa(this.H)}q(D2,M);D2.prototype.Aa=function(){this.Ua=N(jEd)};
D2.prototype.Ga=function(){var a=this;M.prototype.Ga.call(this);this.C=this.Ia("waffle-dataconnector-sqleditor-textarea");this.C.value=this.J;this.F=new Ds(this.C);this.va(this.F);this.F.Nd(this);this.getHandler().R(this.C,"focus",function(){return kEd(a,!0)}).R(this.C,"blur",function(){return kEd(a,!1)});this.H.render(this.Ia("waffle-dataconnector-sqleditor-textareawrapper"));lEd(this);mEd(this,!1)};
function lEd(a){a.C.disabled=!a.Wd||a.D;Ih(a.Ra(),"waffle-dataconnector-sqleditor-disabled",!a.Wd||a.D);VT(a.H,a.D)}D2.prototype.Oa=function(a){this.D||a==this.Wd||(this.Wd=a,this.Rb()&&lEd(this))};D2.prototype.isEnabled=g("Wd");function nEd(a){a.D=!0;a.Rb()&&lEd(a)}function oEd(a,b){sd(a.Ia("waffle-dataconnector-sqleditor-overlay-message"),b);mEd(a,!0)}function mEd(a,b){L(a.Ia("waffle-dataconnector-sqleditor-overlay"),b)}function kEd(a,b){Ih(a.Ra(),"waffle-dataconnector-sqleditor-focused",b)}
function pEd(a,b){a.isDisposed()||(a.D=!1,a.Rb()?(a.C.value=b,lEd(a)):a.J=b)};function qEd(){A.call(this);this.C=pA("win")}q(qEd,A);function rEd(a,b){a.C.dataConnectorOnCompleteAuth=b;b=(new wl(a.C.location.href)).resolve(new wl("dbx/ssoLogin")).toString();var c=Ud();(a=Ep(b,{target:"google_popup",width:500,height:500,top:Math.floor((c.height-500)/2),left:Math.floor((c.width-500)/2),toolbar:!1,menubar:!1,location:!1,statusbar:!1},a.C))&&a.focus()}qEd.prototype.Ea=function(){delete this.C.dataConnectorOnCompleteAuth;A.prototype.Ea.call(this)};var sEd=new Jt(1);function tEd(a,b){var c=V(a,3);return b?V(a,4)?"Query returns: more than "+(sEd.format(c)+(" rows of data. Please revise your query to return no more than "+(sEd.format(1E4)+" rows."))):"Query returns: "+(sEd.format(c)+(" rows of data. Please revise your query to return no more than "+(sEd.format(1E4)+" rows."))):(new Mt("{TOTAL_ROWS, plural, =0 {Query returns no results.}=1 {Query returns: 1 row of data.}other {Query returns: # rows of data.}}")).format({TOTAL_ROWS:c})};function E2(a,b,c,d,e,f){R1.call(this,"waffle-dataconnector-newqueryeditor",f);this.Wb=a;this.yc=b;this.Mc=c;this.ea=new LU("Preview query");this.ea.Id("waffle-dataconnector-newqueryeditor-preview-query-button");this.Fa(this.ea);this.O=new JU("Insert raw data");this.O.Id("waffle-dataconnector-newqueryeditor-execute-query-button");this.Fa(this.O);this.F=new D2(void 0,this.oa());this.Fa(this.F);this.L=new M;this.Fa(this.L);this.Qa=new UDd(this.oa());this.L.Fa(this.Qa,!0);this.ub=new KDd(this.oa());
this.va(this.ub);this.yb=new eEd(this.Qa,this.ub);this.va(this.yb);this.Sa=d;this.Fa(this.Sa);this.D=new EDd(this.oa());this.Fa(this.D);this.J=new wDd("horizontal",this.oa());this.va(this.J);this.kb=this.xa=!1;this.Na=null;this.Hb=e||new qEd;this.va(this.Hb);this.Ca=null}q(E2,R1);
function uEd(a,b){a.F.Oa(!1);b.then(function(b){if(b){for(var c=Tv(b,3),e=a.Qa,f=ha(e.C.qd()),h=f.next();!h.done;h=f.next())h=h.value,e.D.removeChild(h,e.Rb()),C(h);e.C.clear();c=ha(c);for(f=c.next();!f.done;f=c.next())XDd(e,f.value)}a.X9(b)},function(){a.X9(null)})}function vEd(a){var b=a.ika(),c;if(c=b){a=ha(WDd(a.Qa));for(c=a.next();!c.done;c=a.next())Rv(b,3,c.value);c=b}return c}p=E2.prototype;p.QRa=function(){this.xa=!0;z2(this.D);wEd(this,md("Executing query"));F2(this)};
p.MRa=function(a,b){this.xa=!1;this.Na=b;this.kb=xEd(a);yEd(this,a);b=this.Sa;a=V(a,2);a=b.Zc.serialize(a);ritz_api.DbxApi.setQueryResult(b.D,a);a=ritz_api.DbxApi.getWidth(b.D);var c=ritz_api.DbxApi.getHeight(b.D),d=ritz_api.GridViewApi.getHeaderDepth(b.D,"COLUMNS"),e=ritz_api.GridViewApi.getHeaderDepth(b.D,"ROWS"),f=a+e,h=c+d;b.C.style.width=f;b.C.style.height=h;hM(b.C,b.F,f,h);iEd(b);ritz_api.GridViewApi.renderOriginView(b.D,0,0);ritz_api.GridViewApi.renderHeaderView(b.D,"ROWS",0,c,0,d,null,null);
ritz_api.GridViewApi.renderHeaderView(b.D,"COLUMNS",0,a,e,0,null,null);ritz_api.GridViewApi.renderGridView(b.D,0,0,a,c,e,d,null,null);L(b.Ia("waffle-dataconnector-querypreviewrenderer-canvas-overlay"),!1);b=Math.min(mi(this.Sa.C).height+16,240);var k=void 0===k?!0:k;C(this.Ca);this.Ca=null;k?(k=mi(this.Ia("waffle-dataconnector-newqueryeditor-preview-pane")).height,this.Ca=new zEd(k,b,200,this),this.va(this.Ca),this.Ca.play()):AEd(this,b);F2(this)};
p.LRa=function(a){a=a.Hk();wEd(this,md("Executing query"),V(a,5))};p.KRa=function(a){this.xa=!1;z2(this.D);a&&10==V(a.Hk(),2)?BEd(this):(a=CEd(this,a),FDd(this.D,a));F2(this)};p.Cpa=function(){this.xa=!0;z2(this.D);wEd(this,md("Updating workbook"));F2(this)};p.Apa=function(a){this.xa=!1;z2(this.D);a=CEd(this,a);FDd(this.D,a);F2(this)};p.Aa=function(){R1.prototype.Aa.call(this);ir(this.Lb(),GDd);var a=GBd(this);ir(a,HDd);this.L.render(this.Ia("waffle-dataconnector-newqueryeditor-sidebar"))};
p.Ga=function(){var a=this;R1.prototype.Ga.call(this);this.F.render(this.Ia("waffle-dataconnector-newqueryeditor-editor-pane"));this.O.render(this.Ia("waffle-dataconnector-newqueryeditor-insert-button-wrapper"));this.ea.render(this.Ia("waffle-dataconnector-newqueryeditor-preview-button-wrapper"));this.D.render(this.Ia("waffle-dataconnector-newqueryeditor-message-wrapper"));this.Sa.render(this.Ia("waffle-dataconnector-newqueryeditor-preview-pane"));this.ub.render();this.yb.Jf();this.J.hb(this.Ia("waffle-dataconnector-newqueryeditor-preview-resize-bar"));
this.getHandler().R(this.J,["ve","we"],function(){var b=a.Ia("waffle-dataconnector-newqueryeditor-editor-pane");li(b,a.J.C);var c=a.Ia("waffle-dataconnector-newqueryeditor-main");b=a.Ia("waffle-dataconnector-newqueryeditor-preview-pane");c=mi(c).height-a.J.C-a.J.dd();li(b,c)}).R(this.ea,"action",this.TSb).R(this.O,"action",this.Shb).R(this.yb,"He",this.YQb).R(this.F,"input",function(){F2(a)});DEd(this,md("No preview available"))};p.Ea=function(){R1.prototype.Ea.call(this)};
function AEd(a,b){var c=a.Ia("waffle-dataconnector-newqueryeditor-main");b=mi(c).height-a.J.dd()-b;a=a.J;yq(a.Oc,xDd(a));a.C="vertical"==a.D?wCa(a.Oc,b):xCa(a.Oc,b);c=ha("vertical"==a.D?[a.C,0]:[0,a.C]);b=c.next().value;c=c.next().value;BL(a.Ra(),b,c,a.Je());a.dispatchEvent("ve")}p.YQb=function(){F2(this)};function F2(a){var b=vEd(a);if(a.xa||null==b)a.O.Oa(!1),a.ea.Oa(!1);else{a.ea.Oa(!0);var c=!!a.Na;b=!!a.Na&&a.Na.equals(b);var d=!!a.kb;a.O.Oa(!c||b&&!d)}}p.TSb=function(){cB.Yb(EEd(this))};
p.Shb=function(){var a=vEd(this);this.yc.Yb(this.Mc(a))};function EEd(a){var b=new d2;W(b,1,a.Wb);a=vEd(a);W(b,2,a);W(b,3,30);return b}function CEd(a,b){var c=b?V(b.Hk(),2):1;b=b?V(b.Hk(),3):null;return yDd(a.Yoa(),c,b)}function yEd(a,b){var c=0;a.D.C.D||(wEd(a,md("Executing query"),100),c=1500);Mi(function(){if(!a.isDisposed()){z2(a.D);var c=md(tEd(b,a.kb));xEd(b)?FDd(a.D,c):DEd(a,c)}},c)}
function DEd(a,b){a=a.D;var c=a.Ia("waffle-dataconnector-dialog-info-message");z2(a);sd(c,b||md(""));L(c,!!b)}function wEd(a,b,c){a=a.D;sd(a.Ia("waffle-dataconnector-dialog-progress-label"),b);null!=c&&FCd(a.C,c);L(a.Ia("waffle-dataconnector-dialog-progress-message"),!0)}function BEd(a){var b="waffle-dataconnector-ssologin-"+Zb(),c=BDd(b);FDd(a.D,c);(b=Od(b))&&a.getHandler().R(b,"click",function(){return FEd(a)})}function FEd(a){rEd(a.Hb,function(){cB.Yb(EEd(a))})}
function zEd(a,b,c,d){kt.call(this,[a],[b],c);this.F=d}q(zEd,kt);zEd.prototype.p0=function(){AEd(this.F,this.coords[0])};zEd.prototype.eT=function(){AEd(this.F,this.bQ[0])};function xEd(a){return 1E4<V(a,3)||!!V(a,4)};function GEd(a,b,c,d){A.call(this);this.$=a;this.ea=b;this.xa=c;this.O=this.J=this.L=null;this.D=d||null;this.C=3;this.V=new HEd;this.F=this.H=null}q(GEd,A);p=GEd.prototype;p.getId=function(){return Ba(this)};p.Ea=function(){this.stop();A.prototype.Ea.call(this)};p.start=function(){this.C=2;this.F=this.H=null;this.IFa(this.$)};p.stop=function(){2==this.C&&(this.C=3,this.V.stop())};function IEd(a,b){a.L=b;return a}function JEd(a,b){a.J=b;return a}function KEd(a,b){a.O=b;return a}
p.IFa=function(a){var b=this;this.ea.call(this.D,a).then(function(a){if(2==b.C){b.H=a;b.F=null;var c=b.xa.call(b.D,a);if(c){b.O&&b.O.call(b.D,a);a:{a=b.V;c=v(b.IFa,b,c);if(10>a.F){a.F++;var e=1E3}else if(60>a.D)a.D++,e=5E3;else{a=!1;break a}e+=Math.round(.2*e*(Math.random()-.5)*2);a.C=Mi(c,e);a=!0}a||LEd(b,Error("Polling timed out"))}else b.stop(),b.C=4,b.H=a,b.F=null,b.L&&b.L.call(b.D,a)}},function(a){2==b.C&&LEd(b,a)})};function LEd(a,b){a.stop();a.C=1;a.H=null;a.F=b;a.J&&a.J.call(a.D,b)}
p.getStatus=g("C");p.JK=g("F");function HEd(){this.D=this.F=0;this.C=null}HEd.prototype.stop=function(){this.D=this.F=0;Ni(this.C);this.C=null};function MEd(a){this.C=a}function NEd(a,b){return new GEd(b,function(b){return lDd(a.C,b)},function(a){if(1==a.Hk().getState()){var b=new d2;a=a.Hk().getToken();W(b,4,a);return b}return null})};function OEd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-content")+'"><div class="'+Q("waffle-dataconnector-queryeditor-editor-pane")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-preview-pane")+'"><div class="'+Q("waffle-dataconnector-queryeditor-preview-canvas-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-preview-overlay")+'"><div class="'+Q("waffle-dataconnector-queryeditor-preview-overlay-text")+'"></div></div></div></div>')};function PEd(a,b,c,d,e,f,h,k){w2.call(this,f,h);var l=this;Dq(this,"Query Editor");ICd(this);this.Mc=a;this.C=b;this.Fa(this.C);this.Ca=c;this.Vc=d;this.Bb=e;this.J=this.oa().Aa("CANVAS");gM(this.J);this.xa=fM(this.J);this.ub=ritz_api.DbxApi.createGridViewModel(101,24);this.F=ritz_api.DbxApi.createGridView(this.ub,this.xa,this.Bb.D,this.Bb.C);hM(this.J,this.xa,800,243);QEd(this);GCd(this,this.Ca,function(){return l.Vc(REd(l.C))});HCd(this);this.Zc=new Xv;this.O=null;this.Na=!1;this.yb=k||new qEd;
this.va(this.yb);this.ea=!1;this.yc=new SEd(this);this.va(this.yc)}q(PEd,w2);p=PEd.prototype;p.Aa=function(){w2.prototype.Aa.call(this);ir(this.Lb(),OEd)};
p.Ga=function(){var a=this;w2.prototype.Ga.call(this);this.C.render(this.Ia("waffle-dataconnector-queryeditor-editor-pane"));nj(this.Wa,this.C.L,cB,pj,function(){return TEd(a)});this.getHandler().R(this.C,"Ie",this.Wsa);var b=this.Ia("waffle-dataconnector-queryeditor-preview-canvas-wrapper");b.appendChild(this.J);Eh(b,"native-scrollbar");Eh(b,"native-scrollbar-ltr");UEd(this,!1);x2(this);this.Wsa();VEd(this.C,"Only users with edit access can view and edit the query")};
p.Ea=function(){w2.prototype.Ea.call(this);delete this.ub;delete this.F};p.QRa=function(){this.ea=!0;L(this.Ia("waffle-dataconnector-queryeditor-preview-overlay-text"),!1);x2(this);LCd(this,"Executing query");WEd(this)};
p.MRa=function(a,b){this.ea=!1;this.O=b;this.Na=XEd(a);YEd(this,a);a=V(a,2);a=this.Zc.serialize(a);ritz_api.DbxApi.setQueryResult(this.F,a);a=ritz_api.DbxApi.getWidth(this.F);b=ritz_api.DbxApi.getHeight(this.F);var c=ritz_api.GridViewApi.getHeaderDepth(this.F,"COLUMNS"),d=ritz_api.GridViewApi.getHeaderDepth(this.F,"ROWS"),e=a+d,f=b+c;this.J.style.width=e;this.J.style.height=f;hM(this.J,this.xa,e,f);QEd(this);ritz_api.GridViewApi.renderOriginView(this.F,0,0);ritz_api.GridViewApi.renderHeaderView(this.F,
"ROWS",0,b,0,c,null,null);ritz_api.GridViewApi.renderHeaderView(this.F,"COLUMNS",0,a,d,0,null,null);ritz_api.GridViewApi.renderGridView(this.F,0,0,a,b,d,c,null,null);ZEd(this,!1);WEd(this);VEd(this.C,"All users with view access can view query results in the workbook.");UEd(this,!0)};function YEd(a,b){var c=0;a.L.D||(LCd(a,"Executing query",100),c=1500);Mi(function(){if(!a.isDisposed()){x2(a);$Ed(a);var c=md(tEd(b,a.Na));XEd(b)?JCd(a,c):KCd(a,c)}},c)}
p.LRa=function(a){a=a.Hk();LCd(this,"Executing query",V(a,5))};p.KRa=function(a){this.ea=!1;x2(this);a&&10==V(a.Hk(),2)?aFd(this):JCd(this,bFd(a));this.Wsa()};function aFd(a){var b="waffle-dataconnector-ssologin-"+Zb(),c=BDd(b);JCd(a,c);(b=Od(b))&&a.getHandler().R(b,"click",function(){return cFd(a)})}function cFd(a){rEd(a.yb,function(){cB.Yb(TEd(a))})}
function $Ed(a){var b=REd(a.C);if(b&&a.O&&!b.equals(a.O)){b=new Bp;var c="This preview is out of date."+(b.ke("br")+"Please re-run your query.");b=b.format(c);ZEd(a,!0);sd(a.Ia("waffle-dataconnector-queryeditor-preview-overlay-text"),b);L(a.Ia("waffle-dataconnector-queryeditor-preview-overlay-text"),!0)}else ZEd(a,!1)}p.Wsa=function(){$Ed(this);WEd(this)};
function WEd(a){var b=REd(a.C);if(a.ea||null==b)a.Ca.Oa(!1),cB.Oa(!1);else{cB.Oa(!0);var c=!!a.O;b=!!a.O&&a.O.equals(b);var d=!!a.Na;a.Ca.Oa(!c||b&&!d)}}function ZEd(a,b){Ih(a.Ia("waffle-dataconnector-queryeditor-preview-pane"),"waffle-dataconnector-queryeditor-preview-inactive",b)}p.Cpa=function(){this.ea=!0;x2(this);LCd(this,"Updating workbook");WEd(this)};p.Apa=function(a){this.ea=!1;x2(this);JCd(this,bFd(a));WEd(this)};
function bFd(a){var b=a?V(a.Hk(),2):1;a=a?V(a.Hk(),3):null;return yDd(2,b,a)}function TEd(a){var b=new d2;W(b,1,a.Mc);a=REd(a.C);W(b,2,a);W(b,3,30);return b}function QEd(a){a.xa.fillStyle="#f3f3f3";a.xa.fillRect(0,0,a.J.width,a.J.height)}function UEd(a,b){b!=ri(a.Ia("waffle-dataconnector-queryeditor-preview-pane"))&&(b?a.yc.play():L(a.Ia("waffle-dataconnector-queryeditor-preview-pane"),!1))}function XEd(a){return 1E4<V(a,3)||!!V(a,4)}function dFd(a){M.apply(this,arguments)}q(dFd,M);
function VEd(a,b){var c=J(H(),"docs-idu");c&&(b+=" ");var d=a.Ia("waffle-dataconnector-queryeditor-sharing-message");de(d);b=a.oa().Aa("SPAN",void 0,b);d.appendChild(b);c&&(a=a.oa().Aa("A",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/sharing",target:"_blank"},"Learn more"),d.appendChild(a))}function SEd(a){kt.call(this,[0],[1],350);this.F=a}q(SEd,kt);SEd.prototype.fT=function(){var a=this.F.Ia("waffle-dataconnector-queryeditor-preview-pane");L(a,!0);li(a,0)};
SEd.prototype.p0=function(){var a=this.qk,b=this.F.Ia("waffle-dataconnector-queryeditor-preview-pane");li(b,243*a);this.F.vd()};function eFd(){return P('<div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget-project-section")+'"></div></div>')};function fFd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-queryeditor-query-settings-header")+'">'+O(Fs({icon:tr("docs-icon-img docs-icon-settings")},b))+'<span class="'+Q("waffle-dataconnector-queryeditor-query-settings-title")+'">';return P(a+"Query Settings</span></div>")};function gFd(a,b){A2.call(this,N(fFd),b);b=a.C;a=a.D;this.C=new sU;this.C.setContent("Billing project");for(var c=0,d=0;d<b.length;d++){var e=b[d];this.C.zd(new Ek(e.getName(),e));null!=a&&e.getId()==a&&(c=d)}this.C.Ze(c);this.Fa(this.C)}q(gFd,A2);gFd.prototype.Aa=function(){A2.prototype.Aa.call(this);this.setContent(N(eFd));this.C.render(this.Ia("waffle-dataconnector-bigquery-query-settings-widget-project-section"))};
gFd.prototype.Ga=function(){var a=this;A2.prototype.Ga.call(this);this.getHandler().R(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("Je")});this.Sd(!0);this.C.np();this.Sd(!1)};function hFd(a,b){this.D=a;this.C=b}function iFd(a,b,c){var d=new i2;W(d,1,a.C);W(d,2,b);W(d,3,c);return pDd(a.D,d).then(function(a){return Tv(a,4)})}function jFd(a,b){var c=new o2;W(c,1,a.C);W(c,2,b);return qDd(a.D,c).then(function(a){return Tv(a,4)})}function kFd(a,b){var c=new q2;W(c,2,b);W(c,1,a.C);return tDd(a.D,c).then(function(a){return Tv(a,4)})};function lFd(a){this.Cc=a}lFd.prototype.getType=g("Cc");function mFd(a){this.Cc="cloud-project";this.C=a}q(mFd,lFd);mFd.prototype.bp=g("C");function nFd(a,b){this.Cc="bigquery-dataset";this.C=b;this.D=a}q(nFd,lFd);nFd.prototype.bp=g("C");function oFd(a,b,c){this.Cc="bigquery-table";this.C=c;this.D=b;this.F=a}q(oFd,lFd);oFd.prototype.bp=g("C");function pFd(a){this.Cc="jdbc-table";this.C=a}q(pFd,lFd);function qFd(){this.Cc="column"}q(qFd,lFd);function G2(a,b,c,d){c=void 0===c?!1:c;M.call(this,d);this.Lc(b);this.H=(this.D=c)?2:0;this.F=!1;this.C=new rFd(a,this.oa());this.va(this.C);this.D&&this.C.Id("waffle-dataconnector-dbschematreenode-control-leaf")}q(G2,M);p=G2.prototype;p.Aa=function(){this.Ua=this.oa().Aa("DIV","waffle-dataconnector-dbschematreenode",this.oa().Aa("DIV","control-container"),this.oa().Aa("DIV","waffle-dataconnector-dbschematreenode-child-container"));this.C.render(this.Ia("control-container"))};p.Lb=function(){return this.Ab("waffle-dataconnector-dbschematreenode-child-container")};
p.Ga=function(){M.prototype.Ga.call(this);sFd(this,!1);this.getHandler().R(this.C,"action",this.Crb)};p.Crb=function(){this.Sd(!this.F)};p.Sd=function(a){if(!this.D&&a!=this.F){var b=rja(64,a);this.dispatchEvent(b)&&sFd(this,a)}};function sFd(a,b){a.F=b;a.Rb()&&(L(a.Lb(),b),a.C.Sd(b))}function tFd(a,b){a.H=b;b=a.C;a=1==a.H;b.hk("waffle-dataconnector-dbschematreenode-control-loading",a);VT(b.C,a)}p.fx=g("H");p.Lc=function(a){M.prototype.Lc.call(this,a)};p.Ta=function(){return M.prototype.Ta.call(this)};
p.Fa=function(a,b){if(this.D)throw Error("Can't add child to leaf node");M.prototype.Fa.call(this,a,b)};p.Bg=function(a,b,c){if(this.D)throw Error("Can't add child to leaf node");M.prototype.Bg.call(this,a,b,c)};p.removeChild=function(a,b){return M.prototype.removeChild.call(this,a,b)};p.Ed=function(){return M.prototype.Ed.call(this,!0)};p.Qn=function(a){return M.prototype.Qn.call(this,a,!0)};
function rFd(a,b){mk.call(this,a,uFd.getInstance(),b);this.ef(32,!1);this.ef(64,!0);ij(this,64,!1);this.C=new UT}q(rFd,mk);rFd.prototype.Ga=function(){mk.prototype.Ga.call(this);this.C.render(this.Ia("waffle-dataconnector-dbschematreenode-control-icon"))};function uFd(){}q(uFd,Fi);uFd.prototype.Aa=function(a){return a.oa().Aa("DIV",this.$m(a).join(" "),a.oa().Aa("DIV","waffle-dataconnector-dbschematreenode-control-icon"),a.oa().Aa("DIV","waffle-dataconnector-dbschematreenode-control-label",a.getContent()))};
uFd.prototype.Lb=function(a){return Sd("waffle-dataconnector-dbschematreenode-control-label",a)};uFd.prototype.mc=n("waffle-dataconnector-dbschematreenode-control");ta(uFd);function H2(a){M.call(this,a);this.C=new M(this.oa());this.Fa(this.C,!0)}q(H2,M);H2.prototype.Ga=function(){M.prototype.Ga.call(this);this.getHandler().R(this.C,"open",this.H)};H2.prototype.H=function(a){var b=a.target;2!=b.fx()&&a.preventDefault();0==b.fx()&&vFd(this,b)};function vFd(a,b){a.F(b).then(function(a){return wFd(b,a)},function(){return tFd(b,0)});tFd(b,1)}function wFd(a,b){a.isDisposed()?Cb(b):(b.forEach(function(b){a.Fa(b,!0)}),tFd(a,2),a.Sd(!0))};function xFd(a,b){H2.call(this,b);this.D=a}q(xFd,H2);xFd.prototype.F=function(a){a=a.Ta();switch(a.getType()){case "cloud-project":return yFd(this,a);case "bigquery-dataset":return zFd(this,a);case "bigquery-table":return AFd(this,a);default:return a.getType(),nf()}};function yFd(a,b){var c=b.bp();return kFd(a.D,c).then(function(a){return BFd(a,c)})}function zFd(a,b){var c=b.D,d=b.bp();return iFd(a.D,d,c).then(function(a){return CFd(a,d,c)})}
function AFd(a,b){var c=new k2;c.Te(b.F);W(c,2,b.D);eCd(c,b.bp());return jFd(a.D,c).then(function(a){return DFd(a)})}function BFd(a,b){return a.map(function(a){return new G2(a,new nFd(a,b))})}function CFd(a,b,c){return a.map(function(a){a=a.getName();return new G2(a,new oFd(a,c,b))})}function DFd(a){return a.map(function(a){return new G2(a,new qFd(a),!0)})};function EFd(a,b){A2.call(this,"Schema",b);this.C=a;this.Fa(this.C,!0)}q(EFd,A2);function FFd(a,b,c,d,e,f,h,k){E2.call(this,b,c,d,e,h,k);HBd(this,"BigQuery query editor");this.H=new gFd(a,this.oa());this.L.Bg(this.H,0,!0);this.Cb=new xFd(f,this.oa());this.Nb=new EFd(this.Cb);this.L.Fa(this.Nb,!0);a=this.Cb;c=this.H.C.Xe().La();b=c.getName();c=c.getId();a.C.Fa(new G2(b,new mFd(c)),!0)}q(FFd,E2);FFd.prototype.ika=function(){var a=this.F.C.value;if(!a)return null;var b=new U1,c=this.H.C.Xe().La().getId();W(b,1,a);W(b,2,c);a=new X1;W(a,4,b);return a};
FFd.prototype.X9=function(a){var b=V(a,4);pEd(this.F,V(b,1));a:{a=this.H;b=b.bp();for(var c=a.C.Fi(),d=0;d<c;d++)if(a.C.jf(d).La().getId()==b){a.C.Ze(d);break a}}};FFd.prototype.Yoa=n(3);function GFd(a){var b='<div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name-section")+'"><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name-label")+'">';b=b+"Connection name:"+('</div><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name")+'">'+O(a.qP)+"</div></div></div>");return P(b)};function HFd(a,b){A2.call(this,N(fFd),b);this.C=a}q(HFd,A2);HFd.prototype.Aa=function(){A2.prototype.Aa.call(this);this.setContent(N(GFd,{qP:this.C}))};function IFd(a,b){this.C=a;this.D=b}function JFd(a){var b=new i2;W(b,1,a.C);return pDd(a.D,b).then(function(a){return Tv(a,4)})}function KFd(a,b){var c=new o2;W(c,1,a.C);W(c,2,b);return qDd(a.D,c).then(function(a){return Tv(a,4)})};function LFd(a,b){H2.call(this,b);this.D=a}q(LFd,H2);function MFd(a){JFd(a.D).then(function(b){b.forEach(function(b){b=b.getName();a.C.Fa(new G2(b,new pFd(b)),!0)})},ba())}LFd.prototype.F=function(a){a=a.Ta();switch(a.getType()){case "jdbc-table":return NFd(this,a);default:return a.getType(),nf()}};function NFd(a,b){var c=new k2;c.Te(b.C);return KFd(a.D,c).then(function(a){return OFd(a)})}function OFd(a){return a.map(function(a){return new G2(a,new qFd(a),!0)})};function PFd(a,b,c,d,e,f,h,k){E2.call(this,a,c,d,e,h,k);HBd(this,"Jdbc query editor");this.Nb=new HFd(b);this.L.Bg(this.Nb,0,!0);this.H=new LFd(f,this.oa());MFd(this.H);this.Cb=new EFd(this.H,this.oa());this.L.Fa(this.Cb,!0)}q(PFd,E2);PFd.prototype.ika=function(){var a=this.F.C.value;if(!a)return null;var b=new X1;W(b,1,a);return b};PFd.prototype.X9=function(a){a=a?V(a,1):"";pEd(this.F,a);this.F.Oa(!0)};PFd.prototype.Yoa=n(1);function QFd(){var a='<div class="'+Q("waffle-dataconnector-plx-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-engine-section")+'"></div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-section")+'"><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-label")+'">';a=a+"External script"+('</div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-chip-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper")+
'"></div></div></div>');return P(a)};function RFd(a){A2.call(this,N(fFd),a);this.F="";this.D=new B2(this.F);this.Fa(this.D);this.D.C.Pd("Click to open the Plx script editor");this.D.D.Pd("Unlink this Plx script");this.H=new LU("Add existing script");this.Fa(this.H);this.H.Id("waffle-dataconnector-plx-query-settings-widget-link-script-button");this.C=new sU;this.C.setContent("Engine");a=ha(nc(SFd));for(var b=a.next();!b.done;b=a.next())b=b.value,this.C.zd(new Ek(b.caption,b.value));this.C.Ze(0);this.Fa(this.C);this.L=new Yn;this.va(this.L)}
q(RFd,A2);RFd.prototype.Aa=function(){A2.prototype.Aa.call(this);this.setContent(N(QFd));this.C.render(this.Ia("waffle-dataconnector-plx-query-settings-widget-engine-section"));this.D.render(this.Ia("waffle-dataconnector-plx-query-settings-widget-script-section"));this.H.render(this.Ia("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper"))};
RFd.prototype.Ga=function(){var a=this;A2.prototype.Ga.call(this);this.getHandler().R(this.H,"action",function(b){b.stopPropagation();a.dispatchEvent("Ke")}).R(this.D,"Be",function(b){b.stopPropagation();a.dispatchEvent("Me")}).R(this.D,"Ae",function(b){b.stopPropagation();Ep(ABd(a.F),{target:"_blank"})}).R(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("Ne")});this.Sd(!0);this.C.np();this.Sd(!1);TFd(this)};
function TFd(a){var b=!!a.F;b&&a.D.setContent(a.F);a.D.setVisible(b);a.H.setVisible(!b);a.H.Oa(!b);a.C.Oa(!b)}var UFd=Object.freeze({caption:"Dremel",value:"DREMEL"}),VFd=Object.freeze({caption:"F1",value:"F1"}),WFd=Object.freeze({caption:"Procella",value:"PROCELLA"}),SFd={j0a:UFd,I0a:VFd,E3a:WFd};function XFd(){return P('<div class="'+Q("docs-material-labeled-text-field")+'"><div class="'+Q("docs-material-labeled-text-field-content")+'"></div><input type="text" class="'+Q("docs-material-labeled-text-field-input")+'"></div>')};function YFd(){}q(YFd,RU);p=YFd.prototype;p.mc=n("docs-material-labeled-text-field");p.Aa=function(a){var b=N(XFd);b.id=a.getId();var c=Sd("docs-material-labeled-text-field-input",b);c.id=Bi(a,"input");if(a=a.getContent())a=tEc(c,a,"docs-material-labeled-text-field-label"),ce(this.Lb(b),a);return b};p.setContent=function(a,b){b=tEc(a,b,"docs-material-labeled-text-field-label");RU.prototype.setContent.call(this,a,b)};p.Lb=function(a){return a?Sd("docs-material-labeled-text-field-content",a):null};
p.pM=function(a){return Sd("docs-material-labeled-text-field-input",a)};ta(YFd);function ZFd(a,b,c){a=void 0===a?0:a;b=void 0===b?YFd.getInstance():b;SU.call(this,a,b,c);this.Cf(bc())}q(ZFd,SU);ZFd.prototype.Ga=function(){SU.prototype.Ga.call(this);$Fd(this)};ZFd.prototype.Uoa=function(){SU.prototype.Uoa.call(this);$Fd(this)};ZFd.prototype.Pa=function(a){SU.prototype.Pa.call(this,a);this.Rb()&&$Fd(this)};function $Fd(a){a.Rd();var b=0!=a.La().length;Ih(a.Ra(),"docs-material-labeled-text-field-has-text",b)};function aGd(a,b,c){v2.call(this,b,c);this.F=a?new ZFd:new SU;this.Fa(this.F);this.F.Id("waffle-dataconnector-simple-text-input-prompt-text-field");a&&this.F.setContent(a);this.C.Id("waffle-dataconnector-simple-text-input-prompt-add-button")}q(aGd,v2);aGd.prototype.Aa=function(){v2.prototype.Aa.call(this);var a=this.oa().Aa("DIV","waffle-dataconnector-simple-text-input-prompt-text-field-wrapper");ce(this.Lb(),a);this.F.render(a)};aGd.prototype.Pa=function(a){this.F.Pa(a)};
aGd.prototype.Ga=function(){var a=this;v2.prototype.Ga.call(this);this.getHandler().R(this.C,"action",function(){var b=a.F.La();""!=b&&a.resolve(b)})};function bGd(a,b,c,d,e,f){E2.call(this,a,b,c,d,e,f);HBd(this,"Plx Query Editor");this.H=new RFd(this.oa());this.L.Bg(this.H,0,!0)}q(bGd,E2);p=bGd.prototype;p.Ga=function(){E2.prototype.Ga.call(this);this.getHandler().R(this.H,"Ke",this.hSb).R(this.H,"Me",this.KOb)};p.ika=function(){var a=this.F.C.value,b=this.H.F;if(!a&&!b)return null;var c=new X1,d=new T1;b?W(d,3,b):(W(d,1,a),a=this.H.C.Xe().La(),W(d,2,a));W(c,2,d);return c};
p.X9=function(a){this.F.Oa(!0);if(a){var b=V(a,2);a=V(b,1);var c=V(b,2);b=V(b,3);if(c)try{a:{for(var d=this.H,e=d.C.Fi(),f=0;f<e;f++)if(d.C.jf(f).La()==c){d.C.Ze(f);break a}throw Error("Unrecognized engine type");}}catch(h){}b&&cGd(this,b);a&&pEd(this.F,a)}else pEd(this.F,"")};p.Yoa=n(2);
p.hSb=function(){var a=this,b=this.H.F,c=new aGd("Script ID");Dq(c,"Add existing script");c.C.setContent("Add");c.Pa(b);this.va(c);c.setVisible(!0);qf(c.getResult(),function(){return C(c)}).then(function(b){return cGd(a,b)},ba())};
function cGd(a,b){if(!a.isDisposed()){var c=a.H;c.F=b||"";TFd(c);c=a.F;if(b){c.Oa(!1);var d=new Bp;var e=d.ke("a",{href:ABd(b),target:"_blank"});e=e+"Edit your existing script by viewing it in Plx"+d.re("a");d=d.format(e);oEd(c,d)}else c.Oa(!0),mEd(c,!1);CA(b?"Script added":"Script removed");F2(a)}}p.KOb=function(){cGd(this,null)};function dGd(){return P('<div class="'+Q("waffle-dataconnector-linked-script-chip")+'"><div class="'+Q("waffle-dataconnector-linked-script-chip-content")+'" tabindex="0"></div><div class="'+Q("waffle-dataconnector-linked-script-chip-close-badge-wrapper")+'"></div></div>')};function eGd(a,b){M.call(this,b);this.D=a;this.C=new PDd;ok(this.C,"Remove script");this.Fa(this.C)}q(eGd,M);eGd.prototype.Aa=function(){this.Ua=N(dGd);var a=this.Ia("waffle-dataconnector-linked-script-chip-content");var b=this.D;b=this.oa().Aa("A",{href:ABd(b),target:"_blank"},b);a.appendChild(b)};
eGd.prototype.Ga=function(){var a=this;M.prototype.Ga.call(this);this.C.render(this.Ia("waffle-dataconnector-linked-script-chip-close-badge-wrapper"));var b="Linked plx script: "+this.D;Bh(this.Ia("waffle-dataconnector-linked-script-chip-content"),b);this.getHandler().R(this.C,"action",function(){return a.dispatchEvent("Oe")})};function fGd(){var a=P,b='<div class="'+Q("waffle-dataconnector-plxqueryeditormodule")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-sidebar")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-sidebar-header")+'">Plx</div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper")+
'"></div></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-main")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-editor-wrapper")+'"></div>';var c=P('<div class="'+Q("waffle-dataconnector-queryeditor-sharing-message-container")+'"><div class="'+Q("waffle-dataconnector-queryeditor-sharing-message")+'"></div></div>');return a(b+O(c)+"</div></div>")};function gGd(a,b,c){dFd.call(this,c);var d=this;this.H=this.J=null;this.F=new LU("Add existing script");this.Fa(this.F);this.D=new sU;this.D.setContent("Engine");hGd(this);this.D.Ze(0);this.Fa(this.D);this.C=new D2(void 0,this.oa());this.Fa(this.C);this.L=new LU;this.L.Id("waffle-dataconnector-plxqueryeditormodule-preview-button");this.Fa(this.L);this.O=new Pi(function(){iGd(d,null)});this.va(this.O);b&&(this.F.Oa(!1),nEd(this.C),qf(b.then(function(a){var b=V(a,2);a=V(b,1);var c=V(b,3);b=V(b,2);pEd(d.C,
a||"");iGd(d,c);b&&d.D.Pa(b);d.F.Oa(!0)},ba()),function(){d.dispatchEvent("Ie")}))}q(gGd,dFd);gGd.prototype.Aa=function(){this.Ua=N(fGd)};
gGd.prototype.Ga=function(){var a=this;dFd.prototype.Ga.call(this);this.C.render(this.Ia("waffle-dataconnector-plxqueryeditormodule-editor-wrapper"));this.L.render(this.Ia("waffle-dataconnector-queryeditor-sharing-message-container"));this.F.render(this.Ia("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper"));this.D.render(this.Ia("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper"));this.getHandler().R(this.C,"input",function(){a.dispatchEvent("Ie")}).R(this.F,"action",
function(){return jGd(a)}).R(this,"Oe",function(){a.O.start()}).R(this.D,"aftershow",function(a){return a.stopPropagation()})};function REd(a){var b=a.C.C.value;if(!b&&!a.J)return null;var c=new X1,d=new T1;a.J?W(d,3,a.J):(W(d,1,b),a=a.D.Xe().La(),W(d,2,a));W(c,2,d);return c}function hGd(a){for(var b=ha(nc(kGd)),c=b.next();!c.done;c=b.next())c=c.value,a.D.zd(new Ek(c.caption,c.value))}
function jGd(a){var b=new aGd("Script ID");Dq(b,"Add existing script");b.C.setContent("Add");a.va(b);b.setVisible(!0);qf(qf(b.getResult(),function(){return C(b)}).then(function(b){return iGd(a,b)},ba()),function(){(null!=a.J?a.H.Ra():a.D.Ra()).focus()})}
function iGd(a,b){if(!a.isDisposed()){a.J=b;var c=!!b;a.C.Oa(!c);a.D.Oa(!c);a.F.setVisible(!c);a.F.Oa(!c);C(a.H);a.H=null;if(b){a.H=new eGd(b);a.Fa(a.H);a.H.render(a.Ia("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper"));c=new Bp;var d=c.ke("a",{href:ABd(b),target:"_blank"});d=d+"Edit your existing script by viewing it in Plx"+c.re("a");c=c.format(d);a.C.Oa(!1);oEd(a.C,c)}else a.C.Oa(!0),mEd(a.C,!1);CA(b?"Script added":"Script removed");a.dispatchEvent("Ie")}}
var lGd=Object.freeze({caption:"Dremel",value:"DREMEL"}),mGd=Object.freeze({caption:"F1",value:"F1"}),nGd=Object.freeze({caption:"Procella",value:"PROCELLA"}),kGd={j0a:lGd,I0a:mGd,E3a:nGd};function oGd(a,b){this.C=a;this.D=b;this.pb=new Md}function pGd(a,b,c){return new PFd(b,c,$A,function(a){return qGd(b,a)},new C2(a.C,a.pb),new IFd(b,a.D),void 0,a.pb)}function rGd(a,b,c,d,e){a=new PFd(b,c,aB,function(a){return sGd(d,a)},new C2(a.C,a.pb),new IFd(b,a.D),void 0,a.pb);uEd(a,e);return a}
function tGd(a,b){if(J(H(),"fenqeu"))return new bGd(b,$A,function(a){return qGd(b,a)},new C2(a.C,a.pb),void 0,a.pb);var c=new gGd(b,void 0,a.pb);return new PEd(b,c,$A,function(a){return qGd(b,a)},a.C,void 0,a.pb)}function uGd(a,b,c,d){if(J(H(),"fenqeu"))return a=new bGd(b,aB,function(a){return sGd(c,a)},new C2(a.C,a.pb),void 0,a.pb),uEd(a,d),a;d=new gGd(b,d,a.pb);return new PEd(b,d,aB,function(a){return sGd(c,a)},a.C,void 0,a.pb)}
function vGd(a,b,c){return new FFd(c,b,$A,function(a){return qGd(b,a)},new C2(a.C,a.pb),new hFd(a.D,b),void 0,a.pb)}function qGd(a,b){var c=new b2;W(c,1,a);W(c,2,b);return c}function sGd(a,b){var c=new l2;W(c,1,a);W(c,2,b);return c};function wGd(a,b,c,d,e){var f="Error in query on "+d;d=new ACd;d.Id("waffle-dataconnector-error-popup");Dq(d,f);d.C.setContent("Open query editor");d.J.setContent("Ok");a=10==a?BDd(e):yDd(c,a,b);Eq(d,a);return d};function xGd(a,b,c,d,e,f){A.call(this);this.L=new cDd;this.va(this.L);this.xa=a;this.J=a.Cb;this.H=new hDd;this.Ca=new MEd(this.H);this.D=b;this.ea=c;this.Db=d;this.O=new oGd(e,this.H);this.F=null;this.V=new E;this.va(this.V);this.C=null;this.Ja=new Lh(this);this.va(this.Ja);this.Zb=new Se(this);this.va(this.Zb);this.$=new qEd;this.va(this.$);b=nfc();a=new St(ofc.concat(["waffle-dataconnector-connection-selected"]));c=ofc.concat(["waffle-dataconnector-active-sheet-db-connection","sheet-access-no-protected-range-for-sheet"]);
b||c.push("waffle-dataconnector-active-sheet-not-plx");b=new St(c);f.C($A,oQ).D($A,oQ).C(aB,oQ).D(aB,oQ).C(x5a,oQ).D(x5a,oQ).C(v5a,oQ).C(dB,b).D(dB,b).C(bB,b).D(bB,b).C(cB,oQ).C(eB,a);this.Ja.R(this.V,["show","hide"],this.Isb).R(this.D,"Ba",this.hOb).R(this.D,"Ca",this.MFb).R(this.D,"Ua",this.KFb).R(this.xa,"db-execution-status-updated",this.gOb);this.Zb.subscribe(v5a,"action",this.yga).subscribe(cB,"action",this.GCb).subscribe($A,"action",this.Jrb).subscribe(dB,"action",this.MDb).subscribe(bB,"action",
this.bSa).subscribe(aB,"action",this.Ytb).subscribe(x5a,"action",this.RCb).subscribe(eB,"action",this.vrb);yGd(this)}q(xGd,A);p=xGd.prototype;p.Lf=function(a){this.H.Lf(a)};function I2(a,b){C(a.F);a.F=b;a.F.Nd(a.V);b instanceof Cq?a.Db.Rh(a.F):a.Db.Rh(new tdb(a.F));a.F.render();a.F.setVisible(!0)}p.yga=function(){C(this.F);this.F=null};p.hOb=function(){yGd(this)};p.MFb=function(){this.C&&(C(this.C),this.C=null,QP())};p.KFb=function(){yGd(this)};
function yGd(a){var b=a.D.C.C;if(b&&null!=b.F)if(null==a.C){b=a.D.C.C;var c=b.F,d=V(c,2);d=Kyb(a.J,d);var e;2!=V(d,3)||nfc()?e=d.getName():e="Database connection";a.C=new eDd(e,b.xb(),V(c,1),a.L,a.D,a.ea);a.va(a.C);a.C.show()}else fDd(a.C)}p.Isb=function(){this.F&&this.F.isVisible()||(cB.Pa(null),eB.Pa(null))};
p.gSb=function(){var a=new UCd;this.va(a);I2(this,a);oDd(this.H).then(function(b){var c=[];Tv(b,1).forEach(function(a){c.push(QCd((new PCd).Cf(a.getId()).Te(a.getName()).setType(V(a,3))).build())});a.isDisposed()||(WCd(a,c),VCd(a,!1))})};p.P9a=function(){var a=this;zGd(this,"Connecting to Plx...","Plx",2).then(function(b){b=new MCd(b,2);a.va(b);I2(a,b)},function(){rp.getInstance().postMessage(yp("Could not connect to Plx","error",!0))})};
p.O9a=function(){var a=this,b=new IBd;this.va(b);I2(this,b);qf(b.getResult().then(function(b){b&&AGd(a)},ba()),function(){return C(b)})};function AGd(a){var b;rf(zGd(a,"Connecting to BigQuery...","BigQuery",3).then(function(c){b=c;var d=a.H,e=new oCd;W(e,1,c);return sDd(d,e)}).then(function(c){c=Tv(c,4);BGd(a,b,c)}),function(){rp.getInstance().postMessage(yp("Could not connect to Big Query","error",!0))})}
function BGd(a,b,c){c=new vCd(c);var d=new yCd(c);a.va(d);I2(a,d);d.getResult().then(function(c){c=vGd(a.O,b,c);a.va(c);I2(a,c)},function(){return C(d)})}function zGd(a,b,c,d){var e=pf(),f=rp.getInstance().postMessage(yp(b,"info",!0));b=new Y1;b.Te(c);W(b,2,d);qf(iDd(a.H,b).then(function(a){a=V(a,2);e.resolve(a)},function(a){return e.reject(a)}),function(){return sp(rp.getInstance(),f)});return e.C}
function CGd(a,b){var c=rp.getInstance().postMessage(yp("Importing connection...","info",!0)),d=new Z1;d.Cf(b);d.setType(1);return qf(kDd(a.H,d),function(){return sp(rp.getInstance(),c)})}p.RCb=function(){var a=this.F,b=a.F;switch(a.C){case 2:DGd(this,b);break;case 1:EGd(this,b)}};function EGd(a,b){var c=Kyb(a.J,b).getName();b=pGd(a.O,b,c);a.va(b);I2(a,b)}function DGd(a,b){b=tGd(a.O,b);a.va(b);I2(a,b)}
p.vrb=function(){var a=this,b=eB.La(),c=b.getId(),d=b.getType();switch(d){case 2:DGd(this,c);break;case 1:Kyb(this.J,b.getId())?EGd(this,c):CGd(this,c).then(function(){EGd(a,c)},ba());break;default:throw Error("Unsupported connection type: "+d);}};p.GCb=function(a){var b=this.F;b.QRa();var c=V(a,2);JEd(KEd(IEd(NEd(this.Ca,a),function(a){b.isDisposed()||b.MRa(a,c)}),function(a){b.isDisposed()||b.LRa(a)}),function(a){b.isDisposed()||b.KRa(a)}).start()};
p.Jrb=function(a){var b=this,c=this.F;jDd(this.H,a).then(function(a){var c=V(a,2),d=a.Hk();b.L.C[c]=d;FGd(b,a)},function(a){c.isDisposed()||c.Apa(a)});c.Cpa()};function FGd(a,b){var c=dc(b.xb());Number.isNaN(c);a.yga();AE(a.D,c)?qH(a.D.C)==c?yGd(a):sH(a.D,c):a.Ja.Sc(a.D,["Ma","Ba"],function(b){"Ma"==b.type&&b.Ah==c&&sH(a.D,c)})}p.MDb=function(){GGd(this,mJ(this.D.C))};
function GGd(a,b){var c=AE(a.D,b).F,d=new g2;W(d,1,b.toString());mDd(a.H,d).then(function(d){var e=V(c,1);d=d.Hk();a.L.C[e]=d;a.C&&!a.C.isDisposed()&&a.C.xb()==b&&fDd(a.C)},function(c){var d=V(c.Hk(),2);c=V(c.Hk(),3);a.C&&!a.C.isDisposed()&&a.C.xb()==b&&aDd(a.C.C,!1);HGd(a,b,d,c)});bDd(a.C.C)}
function HGd(a,b,c,d){var e=AE(a.D,b),f=e&&e.F;if(f){e=e.Ud();f=IGd(a,f);var h="waffle-dataconnector-ssologin-"+Zb(),k=wGd(c,d,f,e,h);a.va(k);a.Db.Rh(k);k.render();k.setVisible(!0);qf(k.getResult().then(function(){return a.bSa(b)},ba()),function(){return C(k)});(c=Od(h))&&v2.prototype.getHandler.call(k).R(c,"click",function(){JGd(a,b,k)})}}function JGd(a,b,c){rEd(a.$,function(){C(c);GGd(a,b)})}
p.bSa=function(a){if((a=t(a)?AE(this.D,a):this.D.C.C)&&null!=a.F){var b=a.F;a=V(b,2);b=V(b,1);switch(V(Kyb(this.J,a),3)){case 2:var c=uGd(this.O,a,b,KGd(this,b));break;case 1:c=Kyb(this.J,a).getName(),c=rGd(this.O,a,c,b,KGd(this,b))}this.va(c);I2(this,c)}};function KGd(a,b){var c=pf(),d=new sCd;W(d,1,b);rDd(a.H,d).then(function(a){V(a,1)?c.resolve(V(a,2)):c.reject()},function(a){return c.reject(a)});return c.C}
p.Ytb=function(a){var b=this,c=this.D.C.C.F,d=this.F;nDd(this.H,a).then(function(a){var d=V(c,1);a=a.Hk();b.L.C[d]=a;b.yga();fDd(b.C)},function(a){d.isDisposed()||d.Apa(a)});d.Cpa()};function IGd(a,b){b=V(b,2);a=a.J.C[b];b=V(a,3);a.getName();return b}p.gOb=function(a){if(a.F&&0!=a.F.length){for(var b=ha(a.F),c=b.next();!c.done;c=b.next()){var d=c.value;(c=dDd(this.L,d))&&3==c.getState()&&(d=ritz_api.DbxApi.getSheetIdForQuery(d))&&HGd(this,dc(d),V(c,2),V(c,3))}this.C&&bb(a.F,this.C.F)&&fDd(this.C)}};function LGd(){A.call(this)}q(LGd,rA);LGd.prototype.C=function(){return xGd};xA("dataconnector",LGd);
